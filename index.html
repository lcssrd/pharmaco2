<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Les essentiels en pharmacologie - Accueil</title>
    
    <!-- Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <!-- Feather & Lucide Icons -->
    <script src="https://unpkg.com/feather-icons"></script>
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Chart.js for synthesis chart -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
        /* Custom styles to complement Tailwind */
        html {
            overflow-y: scroll; /* Prevents layout shifts */
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8; /* A slightly softer background */
        }
        /* Animation for a subtle loading effect */
        .module-page, .antalgiques-page, .antiarythm-page, .antico-page {
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        /* Custom scrollbar for sidebar */
        #sidebar::-webkit-scrollbar {
            width: 6px;
        }
        #sidebar::-webkit-scrollbar-track {
            background: #e0e7ff;
            border-radius: 10px;
        }
        #sidebar::-webkit-scrollbar-thumb {
            background: #818cf8;
            border-radius: 10px;
        }
        #sidebar::-webkit-scrollbar-thumb:hover {
            background: #6366f1;
        }
        /* Quiz specific styles */
        .qcm-option.correct {
            background-image: linear-gradient(to right, #4ade80, #16a34a); /* from-green-400 to-green-600 */
            color: white;
            border-color: #15803d; /* green-700 */
            font-weight: 600;
        }
        .qcm-option.incorrect {
            background-image: linear-gradient(to right, #f87171, #dc2626); /* from-red-400 to-red-600 */
            color: white;
            border-color: #b91c1c; /* red-700 */
            font-weight: 600;
        }
        .qcm-option:disabled {
            cursor: not-allowed;
        }
        .qcm-option:disabled:not(.correct):not(.incorrect) {
            color: #475569; /* slate-600 */
            background-color: #f1f5f9; /* slate-100 */
            opacity: 0.7;
        }
    </style>
</head>
<body class="p-2 sm:p-4 md:p-8 flex flex-col min-h-screen">
    <!-- Main container -->
    <div id="app" class="max-w-7xl mx-auto bg-white shadow-2xl rounded-xl flex-grow w-full flex flex-col">
        
        <!-- Header -->
        <header id="header" class="bg-slate-800 text-white px-6 md:px-8 sticky top-0 z-50 rounded-t-xl flex items-center h-24">
            <div class="flex items-center justify-between w-full">
                <!-- Mobile Menu Button -->
                <button id="menu-toggle" class="md:hidden mr-4 p-2 rounded-md hover:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white">
                    <i data-feather="menu" class="h-6 w-6"></i>
                </button>
                <h1 id="main-title" class="text-xl sm:text-2xl md:text-3xl lg:text-4xl font-black tracking-tight bg-gradient-to-r from-sky-400 via-violet-500 to-pink-500 bg-clip-text text-transparent pb-2">Les essentiels en pharmacologie</h1>
                <!-- Desktop Author Info (Header) -->
                <div class="hidden md:block text-right font-bold text-slate-300 text-sm">
                    <p><span id="author-ifsi" class="bg-gradient-to-r from-sky-400 via-violet-500 to-pink-500 bg-clip-text text-transparent">Lucas Séraudie</span> - 2025</p>
                </div>
            </div>
        </header>

        <div class="flex flex-grow">
            <!-- Sidebar Navigation -->
            <aside id="sidebar" class="bg-slate-50 w-64 overflow-y-auto flex-shrink-0 transform -translate-x-full md:translate-x-0 transition-transform duration-300 ease-in-out fixed top-24 bottom-0 md:top-auto md:bottom-auto md:relative z-40 md:z-auto shadow-lg md:shadow-none">
                <div class="p-4">
                    <h2 class="text-lg font-bold text-slate-700 mb-4 tracking-wider">Modules</h2>
                    <nav id="sidebar-nav" class="space-y-2">
                        <a href="#accueil" class="nav-link group flex items-center px-4 py-2 text-slate-600 rounded-lg hover:bg-indigo-100 hover:text-indigo-700 transition-colors duration-200">
                            <i data-feather="home" class="mr-3 h-5 w-5 text-slate-400 group-hover:text-indigo-500"></i> Accueil
                        </a>
                        <a href="#antalgiques" class="nav-link group flex items-center px-4 py-2 text-slate-600 rounded-lg hover:bg-cyan-100 hover:text-cyan-700 transition-colors duration-200">
                           <i data-feather="shield" class="mr-3 h-5 w-5 text-slate-400 group-hover:text-cyan-500"></i> Antalgiques
                        </a>
                        <a href="#antiinflam" class="nav-link group flex items-center px-4 py-2 text-slate-600 rounded-lg hover:bg-fuchsia-100 hover:text-fuchsia-700 transition-colors duration-200">
                           <i data-feather="alert-triangle" class="mr-3 h-5 w-5 text-slate-400 group-hover:text-fuchsia-500"></i> Anti-inflammatoires
                        </a>
                        <a href="#antico" class="nav-link group flex items-center px-4 py-2 text-slate-600 rounded-lg hover:bg-red-100 hover:text-red-700 transition-colors duration-200">
                           <i data-feather="droplet" class="mr-3 h-5 w-5 text-slate-400 group-hover:text-red-500"></i> Anticoagulants
                        </a>
                        <a href="#antihta" class="nav-link group flex items-center px-4 py-2 text-slate-600 rounded-lg hover:bg-emerald-100 hover:text-emerald-700 transition-colors duration-200">
                           <i data-feather="heart" class="mr-3 h-5 w-5 text-slate-400 group-hover:text-emerald-500"></i> Antihypertenseurs
                        </a>
                        <a href="#antiarythm" class="nav-link group flex items-center px-4 py-2 text-slate-600 rounded-lg hover:bg-rose-100 hover:text-rose-700 transition-colors duration-200">
                           <i data-feather="activity" class="mr-3 h-5 w-5 text-slate-400 group-hover:text-rose-500"></i> Antiarythmiques
                        </a>
                         <a href="#antidiabetiques" class="nav-link group flex items-center px-4 py-2 text-slate-600 rounded-lg hover:bg-violet-100 hover:text-violet-700 transition-colors duration-200">
                           <i data-feather="target" class="mr-3 h-5 w-5 text-slate-400 group-hover:text-violet-500"></i> Anti-diabétiques
                        </a>
                        <a href="#hypolipemiants" class="nav-link group flex items-center px-4 py-2 text-slate-600 rounded-lg hover:bg-teal-100 hover:text-teal-700 transition-colors duration-200">
                           <i data-feather="bar-chart-2" class="mr-3 h-5 w-5 text-slate-400 group-hover:text-teal-500"></i> Hypolipémiants
                        </a>
                        <a href="#asthme" class="nav-link group flex items-center px-4 py-2 text-slate-600 rounded-lg hover:bg-purple-100 hover:text-purple-700 transition-colors duration-200">
                           <i data-feather="wind" class="mr-3 h-5 w-5 text-slate-400 group-hover:text-purple-500"></i> Antiasthmatiques
                        </a>
                        <a href="#digestif" class="nav-link group flex items-center px-4 py-2 text-slate-600 rounded-lg hover:bg-lime-100 hover:text-lime-700 transition-colors duration-200">
                           <i data-feather="archive" class="mr-3 h-5 w-5 text-slate-400 group-hover:text-lime-500"></i> Thérapeutiques Digestives
                        </a>
                         <a href="#anticancer" class="nav-link group flex items-center px-4 py-2 text-slate-600 rounded-lg hover:bg-blue-100 hover:text-blue-700 transition-colors duration-200">
                           <i data-feather="crosshair" class="mr-3 h-5 w-5 text-slate-400 group-hover:text-blue-500"></i> Anticancéreux
                        </a>
                    </nav>
                </div>
            </aside>

            <!-- Main Content Area -->
            <main id="main-content" class="p-4 sm:p-6 md:p-8 flex-grow w-full overflow-y-auto">

                <!-- HOME PAGE -->
                <div id="module-accueil" class="module-page">
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                        <!-- Module Cards -->
                        <a href="#antalgiques" class="module-card h-full min-h-72 group relative bg-gradient-to-br from-cyan-50 to-blue-100 p-8 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 flex flex-col text-center items-center transform hover:-translate-y-2 focus:outline-none focus:ring-4 focus:ring-cyan-500/50">
                            <div class="absolute top-4 right-4 bg-cyan-500 text-white text-xs font-bold px-3 py-1 rounded-full shadow-md">S1</div>
                            <h3 class="text-2xl font-bold text-slate-800 bg-gradient-to-r from-cyan-500 to-blue-600 bg-clip-text text-transparent mb-4">Antalgiques</h3>
                            <p class="text-slate-600 text-sm mb-6 flex-grow">De la physiologie de la douleur aux traitements médicamenteux.</p>
                            <span class="bg-gradient-to-r from-cyan-500 to-blue-600 text-white font-semibold py-3 px-8 rounded-lg shadow-md group-hover:scale-105 transition-transform duration-300 w-full sm:w-auto">Commencer</span>
                        </a>
                         <a href="#antiinflam" class="module-card h-full min-h-72 group relative bg-gradient-to-br from-rose-50 to-purple-100 p-8 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 flex flex-col text-center items-center transform hover:-translate-y-2 focus:outline-none focus:ring-4 focus:ring-purple-500/50">
                            <div class="absolute top-4 right-4 bg-fuchsia-400 text-white text-xs font-bold px-3 py-1 rounded-full shadow-md">S1</div>
                            <h3 class="text-2xl font-bold text-slate-800 bg-gradient-to-r from-purple-400 to-pink-500 bg-clip-text text-transparent mb-4">Anti-inflammatoires</h3>
                            <p class="text-slate-600 text-sm mb-6 flex-grow">L'inflammation, les AINS, les corticoïdes et la surveillance infirmière associée.</p>
                            <span class="bg-gradient-to-r from-purple-400 to-pink-600 text-white font-semibold py-3 px-8 rounded-lg shadow-md group-hover:scale-105 transition-transform duration-300 w-full sm:w-auto">Commencer</span>
                        </a>
                        <a href="#antico" class="module-card h-full min-h-72 group relative bg-gradient-to-br from-red-50 to-orange-100 p-8 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 flex flex-col text-center items-center transform hover:-translate-y-2 focus:outline-none focus:ring-4 focus:ring-red-500/50">
                            <div class="absolute top-4 right-4 bg-red-500 text-white text-xs font-bold px-3 py-1 rounded-full shadow-md">S1</div>
                            <h3 class="text-2xl font-bold text-slate-800 bg-gradient-to-r from-red-500 to-orange-500 bg-clip-text text-transparent mb-4">Anticoagulants</h3>
                            <p class="text-slate-600 text-sm mb-6 flex-grow">Explorez l'hémostase et les différentes familles de traitements.</p>
                            <span class="bg-gradient-to-r from-red-500 to-orange-500 text-white font-semibold py-3 px-8 rounded-lg shadow-md group-hover:scale-105 transition-transform duration-300 w-full sm:w-auto">Commencer</span>
                        </a>
                        <a href="#antihta" class="module-card h-full min-h-72 group relative bg-gradient-to-br from-emerald-50 to-green-100 p-8 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 flex flex-col text-center items-center transform hover:-translate-y-2 focus:outline-none focus:ring-4 focus:ring-emerald-500/50">
                            <div class="absolute top-4 right-4 bg-emerald-500 text-white text-xs font-bold px-3 py-1 rounded-full shadow-md">S3</div>
                            <h3 class="text-2xl font-bold text-slate-800 bg-gradient-to-r from-emerald-500 to-green-600 bg-clip-text text-transparent mb-4">Antihypertenseurs</h3>
                            <p class="text-slate-600 text-sm mb-6 flex-grow">Comprenez l'HTA et maîtrisez les IEC, ARA II, inhibiteurs calciques, bêtabloquants et diurétiques.</p>
                            <span class="bg-gradient-to-r from-emerald-500 to-green-600 text-white font-semibold py-3 px-8 rounded-lg shadow-md group-hover:scale-105 transition-transform duration-300 w-full sm:w-auto">Commencer</span>
                        </a>
                        <a href="#antiarythm" class="module-card h-full min-h-72 group relative bg-gradient-to-br from-rose-50 to-red-200 p-8 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 flex flex-col text-center items-center transform hover:-translate-y-2 focus:outline-none focus:ring-4 focus:ring-red-400/50">
                            <div class="absolute top-4 right-4 bg-red-400 text-white text-xs font-bold px-3 py-1 rounded-full shadow-md">S3</div>
                            <h3 class="text-2xl font-bold text-slate-800 bg-gradient-to-r from-pink-400 to-rose-500 bg-clip-text text-transparent mb-4">Antiarythmiques & Digitaliques</h3>
                            <p class="text-slate-700 text-sm mb-6 flex-grow">Stabilisateurs de membranes, Bêta-bloquants, Inhib. Potassiques, Inhib. Calciques et digitaliques.</p>
                            <span class="bg-gradient-to-r from-red-400 to-rose-500 text-white font-semibold py-3 px-8 rounded-lg shadow-md group-hover:scale-105 transition-transform duration-300 w-full sm:w-auto">Commencer</span>
                        </a>
                        <a href="#antidiabetiques" class="module-card h-full min-h-72 group relative bg-gradient-to-br from-violet-50 to-purple-200 p-8 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 flex flex-col text-center items-center transform hover:-translate-y-2 focus:outline-none focus:ring-4 focus:ring-red-400/50">
                            <div class="absolute top-4 right-4 bg-purple-400 text-white text-xs font-bold px-3 py-1 rounded-full shadow-md">S3</div>
                            <h3 class="text-2xl font-bold text-slate-800 bg-gradient-to-r from-pink-400 to-violet-500 bg-clip-text text-transparent mb-4">Anti-diabétiques</h3>
                            <p class="text-slate-700 text-sm mb-6 flex-grow">Généralités sur le diabète, insulines & antidiabétiques oraux</p>
                            <span class="bg-gradient-to-r from-purple-400 to-violet-500 text-white font-semibold py-3 px-8 rounded-lg shadow-md group-hover:scale-105 transition-transform duration-300 w-full sm:w-auto">Commencer</span>
                        </a>
                        <a href="#hypolipemiants" class="module-card h-full min-h-72 group relative bg-gradient-to-br from-cyan-50 to-teal-200 p-8 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 flex flex-col text-center items-center transform hover:-translate-y-2 focus:outline-none focus:ring-4 focus:ring-red-400/50">
                            <div class="absolute top-4 right-4 bg-cyan-400 text-white text-xs font-bold px-3 py-1 rounded-full shadow-md">S3</div>
                            <h3 class="text-2xl font-bold text-slate-800 bg-gradient-to-r from-teal-500 to-cyan-600 bg-clip-text text-transparent mb-4">Hypolipémiants</h3>
                            <p class="text-slate-700 text-sm mb-6 flex-grow">Généralités sur le choléstérol, les règles hygiéno-diététiques et les traitements</p>
                            <span class="bg-gradient-to-r from-teal-500 to-cyan-600 text-white font-semibold py-3 px-8 rounded-lg shadow-md group-hover:scale-105 transition-transform duration-300 w-full md:w-auto">Commencer</span>
                        </a>
                        <a href="#asthme" class="module-card h-full min-h-72 group relative bg-gradient-to-br from-fuchsia-50 to-purple-200 p-8 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 flex flex-col text-center items-center transform hover:-translate-y-2 focus:outline-none focus:ring-4 focus:ring-fuchsia-500/50">
                            <div class="absolute top-4 right-4 bg-fuchsia-600 text-white text-xs font-bold px-3 py-1 rounded-full shadow-md">S3</div>
                            <h3 class="text-2xl font-bold text-slate-800 bg-gradient-to-r from-fuchsia-600 to-purple-700 bg-clip-text text-transparent mb-4">Antiasthmatiques & Antihistaminiques</h3>
                            <p class="text-slate-700 text-sm mb-6 flex-grow">Rappels sur l'astme et ses traitements : bronchodilatateurs, corticoïdes...</p>
                            <span class="bg-gradient-to-r from-fuchsia-600 to-purple-700 text-white font-semibold py-3 px-8 rounded-lg shadow-md group-hover:scale-105 transition-transform duration-300 w-full md:w-auto">Commencer</span>
                        </a>
                        <a href="#digestif" class="module-card h-full min-h-72 group relative bg-gradient-to-br from-lime-50 to-green-100 p-8 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 flex flex-col text-center items-center transform hover:-translate-y-2 focus:outline-none focus:ring-4 focus:ring-lime-500/50">
                            <div class="absolute top-4 right-4 bg-lime-600 text-white text-xs font-bold px-3 py-1 rounded-full shadow-md">S3</div>
                            <h3 class="text-2xl font-bold text-slate-800 bg-gradient-to-r from-lime-500 to-green-600 bg-clip-text text-transparent mb-4">Thérapeutiques Digestives</h3>
                            <p class="text-slate-700 text-sm mb-6 flex-grow">Explorez les anti-acides, laxatifs, antiémétiques et le rôle infirmier associé.</p>
                            <span class="bg-gradient-to-r from-lime-500 to-green-600 text-white font-semibold py-3 px-8 rounded-lg shadow-md group-hover:scale-105 transition-transform duration-300 w-full md:w-auto">Commencer</span>
                        </a>
                        <a href="#anticancer" class="module-card h-full min-h-72 group relative bg-gradient-to-br from-blue-50 to-indigo-100 p-8 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 flex flex-col text-center items-center transform hover:-translate-y-2 focus:outline-none focus:ring-4 focus:ring-blue-500/50">
                            <div class="absolute top-4 right-4 bg-blue-600 text-white text-xs font-bold px-3 py-1 rounded-full shadow-md">S5</div>
                            <h3 class="text-2xl font-bold text-slate-800 bg-gradient-to-r from-blue-500 to-blue-700 bg-clip-text text-transparent mb-4">Traitements anticancéreux</h3>
                            <p class="text-slate-700 text-sm mb-6 flex-grow">Chimiothérapies, thérapies ciblées, immunothérapies et rôle infirmier.</p>
                            <span class="bg-gradient-to-r from-blue-500 to-blue-700 text-white font-semibold py-3 px-8 rounded-lg shadow-md group-hover:scale-105 transition-transform duration-300 w-full md:w-auto">Commencer</span>
                        </a>
                    </div>
                </div>

                <!-- ANTALGIQUES MODULE CONTENT -->
                <div id="module-antalgiques" class="module-page hidden">
                    <nav class="pb-6">
                        <div class="p-1.5 bg-slate-200/60 rounded-xl grid grid-cols-4 sm:grid-cols-4 md:grid-cols-7 gap-2">
                            <button data-page="douleur" class="antalgiques-nav-btn w-full py-3 px-2 rounded-lg text-slate-800 font-semibold transition-all duration-300 text-xs sm:text-sm">La Douleur</button>
                            <button data-page="nonopioides" class="antalgiques-nav-btn w-full py-3 px-2 rounded-lg text-slate-800 font-semibold transition-all duration-300 text-xs sm:text-sm">Non-opioïdes</button>
                            <button data-page="opioidesfaibles" class="antalgiques-nav-btn w-full py-3 px-2 rounded-lg text-slate-800 font-semibold transition-all duration-300 text-xs sm:text-sm">Opioïdes faibles</button>
                            <button data-page="opioidesforts" class="antalgiques-nav-btn w-full py-3 px-2 rounded-lg text-slate-800 font-semibold transition-all duration-300 text-xs sm:text-sm">Opioïdes forts</button>
                            <button data-page="coanalgesiques" class="antalgiques-nav-btn w-full py-3 px-2 rounded-lg text-slate-800 font-semibold transition-all duration-300 text-xs sm:text-sm">Co-analgésiques</button>
                            <button data-page="role" class="antalgiques-nav-btn w-full py-3 px-2 rounded-lg text-slate-800 font-semibold transition-all duration-300 text-xs sm:text-sm">Rôle Infirmier</button>
                            <button data-page="quiz" class="antalgiques-nav-btn w-full py-3 px-2 rounded-lg text-slate-800 font-semibold transition-all duration-300 text-xs sm:text-sm">Quiz</button>
                        </div>
                    </nav>

                    <div id="douleur" class="antalgiques-page">
                        <section class="bg-gradient-to-br from-sky-100 to-cyan-100 rounded-2xl p-6 md:p-12">
                            <h3 class="text-3xl sm:text-4xl md:text-5xl font-extrabold mb-12 text-center leading-tight text-slate-800"><span class="bg-gradient-to-br from-cyan-400 to-blue-600 bg-clip-text text-transparent">Rappels sur la Douleur</span></h3>
                            <div class="grid grid-cols-1 gap-8">
                                <div class="bg-white/70 backdrop-blur-sm rounded-xl shadow-lg p-6 transition-all duration-300 hover:shadow-2xl hover:-translate-y-1"><div class="flex items-center gap-4 mb-4"><div class="bg-blue-100 w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0"><i data-lucide="quote" class="text-blue-600 w-6 h-6"></i></div><h4 class="text-xl sm:text-2xl font-bold text-slate-800">Définition</h4></div><p class="text-slate-600 italic text-sm sm:text-base">« Expérience sensorielle et émotionnelle désagréable associée à une lésion tissulaire réelle ou potentielle ou décrite dans ces termes. »</p></div>
                                <div class="bg-white/70 backdrop-blur-sm rounded-xl shadow-lg p-6 transition-all duration-300 hover:shadow-2xl hover:-translate-y-1"><div class="flex items-center gap-4 mb-4"><div class="bg-green-100 w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0"><i data-lucide="activity" class="text-green-600 w-6 h-6"></i></div><h4 class="text-xl sm:text-2xl font-bold text-slate-800">Caractéristiques de la Douleur</h4></div><div class="grid md:grid-cols-3 gap-4 text-sm"><div class="p-4 bg-green-50 rounded-lg"><h5 class="font-semibold text-green-800">Aiguë (&lt; 6 sem.)</h5><p>Récente, transitoire, liée à une lésion, rôle de protection.</p></div><div class="p-4 bg-orange-50 rounded-lg"><h5 class="font-semibold text-orange-800">Chronique (&gt; 3 mois)</h5><p>Mécanismes autonomes, impact majeur sur la qualité de vie.</p></div><div class="p-4 bg-red-50 rounded-lg"><h5 class="font-semibold text-red-800">Liée aux soins</h5><p>Provoquée par les soins (iatrogène), immédiate ou prolongée.</p></div></div></div>
                                <div class="bg-white/70 backdrop-blur-sm rounded-xl shadow-lg p-6 transition-all duration-300 hover:shadow-2xl hover:-translate-y-1"><div class="flex items-center gap-4 mb-4"><div class="bg-purple-100 w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0"><i data-lucide="brain-circuit" class="text-purple-600 w-6 h-6"></i></div><h4 class="text-xl sm:text-2xl font-bold text-slate-800">Types de Douleurs</h4></div><div class="grid md:grid-cols-3 gap-4 text-sm"><div class="p-4 bg-purple-50 rounded-lg"><h5 class="font-semibold text-purple-800">Nociceptive</h5><p>Activation des récepteurs à la douleur. Bien localisée, aiguë, pulsatile.</p></div><div class="p-4 bg-indigo-50 rounded-lg"><h5 class="font-semibold text-indigo-800">Neuropathique</h5><p>Lésion du système nerveux. Brûlure, picotements, chocs électriques.</p></div><div class="p-4 bg-pink-50 rounded-lg"><h5 class="font-semibold text-pink-800">Nociplastique</h5><p>Altération de la nociception sans lésion. Diffuse, généralisée.</p></div></div></div>
                                <div class="bg-white/70 backdrop-blur-sm rounded-xl shadow-lg p-6 transition-all duration-300 hover:shadow-2xl hover:-translate-y-1"><div class="flex items-center gap-4 mb-4"><div class="bg-yellow-100 w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0"><i data-lucide="scaling" class="text-yellow-600 w-6 h-6"></i></div><h4 class="text-xl sm:text-2xl font-bold text-slate-800">Évaluation de la Douleur</h4></div><p class="text-slate-600 mb-4 text-sm sm:text-base">La douleur est subjective : son évaluation par le patient est toujours juste. L'intérêt des échelles est de suivre son évolution dans le temps.</p><div class="flex flex-wrap gap-4 text-sm"><div class="flex-1 min-w-[200px] p-4 bg-yellow-50 rounded-lg"><h5 class="font-semibold text-yellow-800">EVA</h5><p>Le patient positionne un curseur sur une réglette.</p></div><div class="flex-1 min-w-[200px] p-4 bg-yellow-50 rounded-lg"><h5 class="font-semibold text-yellow-800">EN</h5><p>Le patient donne une note de 0 à 10.</p></div><div class="flex-1 min-w-[200px] p-4 bg-yellow-50 rounded-lg"><h5 class="font-semibold text-yellow-800">EVS</h5><p>Le patient choisit des mots pour décrire sa douleur.</p></div></div><p class="text-slate-500 text-xs italic mt-4 pt-4 border-t border-yellow-200">Il existe d'autres échelles plus spécifiques, notamment pour les enfants (EVENDOL) ou les personnes âgées non communicantes (ALGOPLUS).</p></div>
                            </div>
                        </section>
                    </div>
                    <div id="nonopioides" class="antalgiques-page hidden">
                        <section class="bg-gradient-to-br from-green-100 to-emerald-100 rounded-2xl p-6 md:p-12">
                            <h3 class="text-3xl sm:text-4xl md:text-5xl font-extrabold mb-12 text-center leading-tight text-slate-800"><span class="bg-gradient-to-br from-green-500 to-emerald-700 bg-clip-text text-transparent">Antalgiques non-opioïdes</span></h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                                <div class="bg-white/70 backdrop-blur-sm rounded-xl shadow-lg p-6 flex flex-col transition-all duration-300 hover:shadow-2xl hover:-translate-y-1">
                                    <div class="mb-4">
                                        <h4 class="text-xl font-bold text-slate-800">Paracétamol</h4>
                                        <p class="text-xs text-slate-500 italic">Ex: Doliprane®, Dafalgan®...</p>
                                        <p class="text-sm text-slate-500 mt-1">Classe : antalgique – antipyrétique</p>
                                    </div>
                                    <div class="space-y-4 text-sm flex-grow">
                                        <div><h5 class="font-semibold text-slate-600 mb-1 flex items-center gap-2"><i data-lucide="atom" class="w-4 h-4 text-sky-600"></i>Mécanisme</h5><p class="text-slate-500 pl-6">Action centrale sur COX-3 et voies sérotoninergiques.</p></div>
                                        <div><h5 class="font-semibold text-slate-600 mb-1 flex items-center gap-2"><i data-lucide="timer" class="w-4 h-4 text-cyan-600"></i>Voies & Délai d'action</h5><p class="text-slate-500 pl-6"><b>PO:</b> 30-60 min<br><b>IV:</b> 1h (pic antalgique)<br><b>Rectale:</b> plus lent</p></div>
                                        <div><h5 class="font-semibold text-slate-600 mb-1 flex items-center gap-2"><i data-lucide="alert-triangle" class="w-4 h-4 text-amber-600"></i>Effets secondaires</h5><p class="text-slate-500 pl-6">Rares aux doses usuelles. Risque majeur : hépatotoxicité (surdosage).</p></div>
                                        <div><h5 class="font-semibold text-slate-600 mb-1 flex items-center gap-2"><i data-lucide="ban" class="w-4 h-4 text-red-600"></i>Contre-indications</h5><p class="text-slate-500 pl-6">Insuffisance hépatocellulaire sévère, alcoolisme chronique.</p></div>
                                        <div><h5 class="font-semibold text-slate-600 mb-1 flex items-center gap-2"><i data-lucide="flask-conical" class="w-4 h-4 text-green-600"></i>Antidote</h5><p class="text-slate-500 pl-6">N-acétylcystéine.</p></div>
                                        <div><h5 class="font-semibold text-slate-600 mb-1 flex items-center gap-2"><i data-lucide="gauge-circle" class="w-4 h-4 text-emerald-600"></i>Posologie max</h5><p class="text-slate-500 pl-6">4 g/j (adulte) → 1 g/prise toutes les 6h.</p></div>
                                    </div>
                                </div>
                                <div class="bg-white/70 backdrop-blur-sm rounded-xl shadow-lg p-6 flex flex-col transition-all duration-300 hover:shadow-2xl hover:-translate-y-1">
                                    <div class="mb-4">
                                        <h4 class="text-xl font-bold text-slate-800">AINS</h4>
                                        <p class="text-xs text-slate-500 italic">Ex: Advil®, Nurofen®, Profénid®...</p>
                                        <p class="text-sm text-slate-500 mt-1">Classe : anti-inflammatoires non stéroïdiens</p>
                                    </div>
                                    <div class="space-y-4 text-sm flex-grow">
                                        <div><h5 class="font-semibold text-slate-600 mb-1 flex items-center gap-2"><i data-lucide="atom" class="w-4 h-4 text-sky-600"></i>Mécanisme</h5><p class="text-slate-500 pl-6">Inhibition COX-1 et COX-2 → ↓ prostaglandines.</p></div>
                                        <div><h5 class="font-semibold text-slate-600 mb-1 flex items-center gap-2"><i data-lucide="timer" class="w-4 h-4 text-cyan-600"></i>Voies & Délai d'action</h5><p class="text-slate-500 pl-6"><b>PO:</b> 30-60 min<br><b>IV:</b> 20-30 min</p></div>
                                        <div><h5 class="font-semibold text-slate-600 mb-1 flex items-center gap-2"><i data-lucide="alert-triangle" class="w-4 h-4 text-amber-600"></i>Effets secondaires</h5><p class="text-slate-500 pl-6">Gastralgies, ulcère, hémorragie digestive, insuffisance rénale.</p></div>
                                        <div><h5 class="font-semibold text-slate-600 mb-1 flex items-center gap-2"><i data-lucide="ban" class="w-4 h-4 text-red-600"></i>Contre-indications</h5><p class="text-slate-500 pl-6">Ulcère actif, insuffisance rénale/cardiaque sévère, grossesse T3, association anticoagulants.</p></div>
                                        <div><h5 class="font-semibold text-slate-600 mb-1 flex items-center gap-2"><i data-lucide="gauge-circle" class="w-4 h-4 text-emerald-600"></i>Posologie max</h5><p class="text-slate-500 pl-6">Ibuprofène: 1.2–1.8 g/j. Kétoprofène: 200 mg/j.</p></div>
                                    </div>
                                </div>
                                <div class="bg-white/70 backdrop-blur-sm rounded-xl shadow-lg p-6 flex flex-col transition-all duration-300 hover:shadow-2xl hover:-translate-y-1">
                                    <div class="mb-4">
                                        <h4 class="text-xl font-bold text-slate-800">Néfopam</h4>
                                        <p class="text-xs text-slate-500 italic">Ex: Acupan®</p>
                                        <p class="text-sm text-slate-500 mt-1">Classe : antalgique non opioïde</p>
                                    </div>
                                    <div class="space-y-4 text-sm flex-grow">
                                        <div><h5 class="font-semibold text-slate-600 mb-1 flex items-center gap-2"><i data-lucide="atom" class="w-4 h-4 text-sky-600"></i>Mécanisme</h5><p class="text-slate-500 pl-6">Inhibe recapture sérotonine, dopamine, noradrénaline.</p></div>
                                        <div><h5 class="font-semibold text-slate-600 mb-1 flex items-center gap-2"><i data-lucide="timer" class="w-4 h-4 text-cyan-600"></i>Voies & Délai d'action</h5><p class="text-slate-500 pl-6"><b>IV/IM:</b> 15-20 min<br><b>PO:</b> 30-60 min</p></div>
                                        <div><h5 class="font-semibold text-slate-600 mb-1 flex items-center gap-2"><i data-lucide="alert-triangle" class="w-4 h-4 text-amber-600"></i>Effets secondaires</h5><p class="text-slate-500 pl-6">Tachycardie, sueurs, confusion, hallucinations, nausées.</p></div>
                                        <div><h5 class="font-semibold text-slate-600 mb-1 flex items-center gap-2"><i data-lucide="ban" class="w-4 h-4 text-red-600"></i>Contre-indications</h5><p class="text-slate-500 pl-6">Épilepsie, rétention urinaire, glaucome.</p></div>
                                        <div><h5 class="font-semibold text-slate-600 mb-1 flex items-center gap-2"><i data-lucide="gauge-circle" class="w-4 h-4 text-emerald-600"></i>Posologie max</h5><p class="text-slate-500 pl-6">120 mg/j (per os ou IV).</p></div>
                                    </div>
                                </div>
                            </div>
                        </section>
                    </div>
                    <div id="opioidesfaibles" class="antalgiques-page hidden">
                        <section class="bg-gradient-to-br from-amber-100 to-yellow-100 rounded-2xl p-6 md:p-12">
                            <h3 class="text-3xl sm:text-4xl md:text-5xl font-extrabold mb-12 text-center leading-tight text-slate-800"><span class="bg-gradient-to-br from-amber-500 to-yellow-600 bg-clip-text text-transparent">Opioïdes faibles</span></h3>
                            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                                <div class="bg-white/70 backdrop-blur-sm rounded-xl shadow-lg p-6 flex flex-col transition-all duration-300 hover:shadow-2xl hover:-translate-y-1">
                                    <div class="mb-4">
                                        <h4 class="text-xl font-bold text-slate-800">Codéine</h4>
                                        <p class="text-xs text-slate-500 italic">Ex: Klipal®, Codoliprane®</p>
                                        <p class="text-sm text-slate-500 mt-1">Classe : antalgique opioïde faible</p>
                                    </div>
                                    <div class="space-y-4 text-sm flex-grow">
                                        <div><h5 class="font-semibold text-slate-600 mb-1 flex items-center gap-2"><i data-lucide="atom" class="w-4 h-4 text-sky-600"></i>Mécanisme</h5><p class="text-slate-500 pl-6">Agoniste µ-opioïde faible (pro-drogue de la morphine).</p></div>
                                        <div><h5 class="font-semibold text-slate-600 mb-1 flex items-center gap-2"><i data-lucide="timer" class="w-4 h-4 text-cyan-600"></i>Voies & Délai d'action</h5><p class="text-slate-500 pl-6"><b>PO:</b> 30-60 min</p></div>
                                        <div><h5 class="font-semibold text-slate-600 mb-1 flex items-center gap-2"><i data-lucide="alert-triangle" class="w-4 h-4 text-amber-600"></i>Effets secondaires</h5><p class="text-slate-500 pl-6">Constipation, nausées, somnolence, risque de dépendance.</p></div>
                                        <div><h5 class="font-semibold text-slate-600 mb-1 flex items-center gap-2"><i data-lucide="ban" class="w-4 h-4 text-red-600"></i>Contre-indications</h5><p class="text-slate-500 pl-6">Enfants &lt;12 ans, allaitement, insuffisance respiratoire.</p></div>
                                        <div><h5 class="font-semibold text-slate-600 mb-1 flex items-center gap-2"><i data-lucide="flask-conical" class="w-4 h-4 text-green-600"></i>Antidote</h5><p class="text-slate-500 pl-6">Naloxone (Narcan®).</p></div>
                                        <div><h5 class="font-semibold text-slate-600 mb-1 flex items-center gap-2"><i data-lucide="gauge-circle" class="w-4 h-4 text-emerald-600"></i>Posologie max</h5><p class="text-slate-500 pl-6">120 mg/j (souvent en association).</p></div>
                                    </div>
                                </div>
                                <div class="bg-white/70 backdrop-blur-sm rounded-xl shadow-lg p-6 flex flex-col transition-all duration-300 hover:shadow-2xl hover:-translate-y-1">
                                    <div class="mb-4">
                                        <h4 class="text-xl font-bold text-slate-800">Tramadol</h4>
                                        <p class="text-xs text-slate-500 italic">Ex: Topalgic®, Ixprim®</p>
                                        <p class="text-sm text-slate-500 mt-1">Classe : antalgique opioïde faible</p>
                                    </div>
                                    <div class="space-y-4 text-sm flex-grow">
                                        <div><h5 class="font-semibold text-slate-600 mb-1 flex items-center gap-2"><i data-lucide="atom" class="w-4 h-4 text-sky-600"></i>Mécanisme</h5><p class="text-slate-500 pl-6">Agoniste µ-opioïde + inhibiteur recapture sérotonine/noradrénaline.</p></div>
                                        <div><h5 class="font-semibold text-slate-600 mb-1 flex items-center gap-2"><i data-lucide="timer" class="w-4 h-4 text-cyan-600"></i>Voies & Délai d'action</h5><p class="text-slate-500 pl-6"><b>PO (LI):</b> ~1h<br><b>IV:</b> 5-10 min</p></div>
                                        <div><h5 class="font-semibold text-slate-600 mb-1 flex items-center gap-2"><i data-lucide="alert-triangle" class="w-4 h-4 text-amber-600"></i>Effets secondaires</h5><p class="text-slate-500 pl-6">Nausées, vomissements, somnolence, vertiges, risque de syndrome sérotoninergique.</p></div>
                                        <div><h5 class="font-semibold text-slate-600 mb-1 flex items-center gap-2"><i data-lucide="ban" class="w-4 h-4 text-red-600"></i>Contre-indications</h5><p class="text-slate-500 pl-6">Association IMAO/IRS, épilepsie non contrôlée.</p></div>
                                        <div><h5 class="font-semibold text-slate-600 mb-1 flex items-center gap-2"><i data-lucide="flask-conical" class="w-4 h-4 text-green-600"></i>Antidote</h5><p class="text-slate-500 pl-6">Naloxone (Narcan®).</p></div>
                                        <div><h5 class="font-semibold text-slate-600 mb-1 flex items-center gap-2"><i data-lucide="gauge-circle" class="w-4 h-4 text-emerald-600"></i>Posologie max</h5><p class="text-slate-500 pl-6">400 mg/j (adulte).</p></div>
                                    </div>
                                </div>
                            </div>
                        </section>
                    </div>
                    <div id="opioidesforts" class="antalgiques-page hidden">
                        <section class="bg-gradient-to-br from-red-100 to-orange-100 rounded-2xl p-6 md:p-12">
                            <h3 class="text-3xl sm:text-4xl md:text-5xl font-extrabold mb-12 text-center leading-tight text-slate-800"><span class="bg-gradient-to-br from-red-500 to-orange-600 bg-clip-text text-transparent">Opioïdes forts</span></h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                                <div class="bg-white/70 backdrop-blur-sm rounded-xl shadow-lg p-6 flex flex-col transition-all duration-300 hover:shadow-2xl hover:-translate-y-1">
                                    <div class="mb-4">
                                        <h4 class="text-xl font-bold text-slate-800">Morphine</h4>
                                        <p class="text-xs text-slate-500 italic">Ex: Skenan®, Actiskenan®</p>
                                        <p class="text-sm text-slate-500 mt-1">Classe : antalgique opioïde fort</p>
                                    </div>
                                    <div class="space-y-4 text-sm flex-grow">
                                        <div><h5 class="font-semibold text-slate-600 mb-1 flex items-center gap-2"><i data-lucide="atom" class="w-4 h-4 text-sky-600"></i>Mécanisme</h5><p class="text-slate-500 pl-6">Agoniste récepteur µ → inhibition transmission nociceptive.</p></div>
                                        <div><h5 class="font-semibold text-slate-600 mb-1 flex items-center gap-2"><i data-lucide="timer" class="w-4 h-4 text-cyan-600"></i>Voies & Délai d'action</h5><p class="text-slate-500 pl-6"><b>PO (LI):</b> 30-60 min<br><b>PO (LP):</b> 2-4h<br><b>IV:</b> 10-15 min<br><b>SC:</b> 15-30 min</p></div>
                                        <div><h5 class="font-semibold text-slate-600 mb-1 flex items-center gap-2"><i data-lucide="alert-triangle" class="w-4 h-4 text-amber-600"></i>Effets secondaires</h5><p class="text-slate-500 pl-6">Constipation, nausées, prurit, rétention urinaire, somnolence, dépression respiratoire.</p></div>
                                        <div><h5 class="font-semibold text-slate-600 mb-1 flex items-center gap-2"><i data-lucide="ban" class="w-4 h-4 text-red-600"></i>Contre-indications</h5><p class="text-slate-500 pl-6">Insuffisance respiratoire/hépatique/rénale sévère, HTIC non contrôlée.</p></div>
                                        <div><h5 class="font-semibold text-slate-600 mb-1 flex items-center gap-2"><i data-lucide="flask-conical" class="w-4 h-4 text-green-600"></i>Antidote</h5><p class="text-slate-500 pl-6">Naloxone (Narcan®).</p></div>
                                        <div><h5 class="font-semibold text-slate-600 mb-1 flex items-center gap-2"><i data-lucide="gauge-circle" class="w-4 h-4 text-emerald-600"></i>Posologie max</h5><p class="text-slate-500 pl-6">Pas de dose plafond → titration.</p></div>
                                    </div>
                                </div>
                                <div class="bg-white/70 backdrop-blur-sm rounded-xl shadow-lg p-6 flex flex-col transition-all duration-300 hover:shadow-2xl hover:-translate-y-1">
                                    <div class="mb-4">
                                        <h4 class="text-xl font-bold text-slate-800">Fentanyl</h4>
                                        <p class="text-xs text-slate-500 italic">Ex: Durogesic®, Actiq®</p>
                                        <p class="text-sm text-slate-500 mt-1">Classe : antalgique opioïde fort</p>
                                    </div>
                                    <div class="space-y-4 text-sm flex-grow">
                                        <div><h5 class="font-semibold text-slate-600 mb-1 flex items-center gap-2"><i data-lucide="atom" class="w-4 h-4 text-sky-600"></i>Mécanisme</h5><p class="text-slate-500 pl-6">Agoniste µ très puissant (100x morphine).</p></div>
                                        <div><h5 class="font-semibold text-slate-600 mb-1 flex items-center gap-2"><i data-lucide="timer" class="w-4 h-4 text-cyan-600"></i>Voies & Délai d'action</h5><p class="text-slate-500 pl-6"><b>IV:</b> 2-3 min<br><b>Transmuqueuse:</b> 5-15 min<br><b>Patch:</b> lent (pic à 12-24h)</p></div>
                                        <div><h5 class="font-semibold text-slate-600 mb-1 flex items-center gap-2"><i data-lucide="alert-triangle" class="w-4 h-4 text-amber-600"></i>Effets secondaires</h5><p class="text-slate-500 pl-6">Idem morphine (dépression respiratoire ++), tolérance rapide.</p></div>
                                        <div><h5 class="font-semibold text-slate-600 mb-1 flex items-center gap-2"><i data-lucide="ban" class="w-4 h-4 text-red-600"></i>Contre-indications</h5><p class="text-slate-500 pl-6">Idem morphine. Prudence chez non-tolérants aux opioïdes.</p></div>
                                        <div><h5 class="font-semibold text-slate-600 mb-1 flex items-center gap-2"><i data-lucide="flask-conical" class="w-4 h-4 text-green-600"></i>Antidote</h5><p class="text-slate-500 pl-6">Naloxone (Narcan®).</p></div>
                                        <div><h5 class="font-semibold text-slate-600 mb-1 flex items-center gap-2"><i data-lucide="gauge-circle" class="w-4 h-4 text-emerald-600"></i>Posologie max</h5><p class="text-slate-500 pl-6">Dépend de la forme (Patch 25–100 µg/h).</p></div>
                                    </div>
                                </div>
                                <div class="bg-white/70 backdrop-blur-sm rounded-xl shadow-lg p-6 flex flex-col transition-all duration-300 hover:shadow-2xl hover:-translate-y-1">
                                    <div class="mb-4">
                                        <h4 class="text-xl font-bold text-slate-800">Oxycodone</h4>
                                        <p class="text-xs text-slate-500 italic">Ex: Oxycontin®, Oxynorm®</p>
                                        <p class="text-sm text-slate-500 mt-1">Classe : antalgique opioïde fort</p>
                                    </div>
                                    <div class="space-y-4 text-sm flex-grow">
                                        <div><h5 class="font-semibold text-slate-600 mb-1 flex items-center gap-2"><i data-lucide="atom" class="w-4 h-4 text-sky-600"></i>Mécanisme</h5><p class="text-slate-500 pl-6">Agoniste µ et κ.</p></div>
                                        <div><h5 class="font-semibold text-slate-600 mb-1 flex items-center gap-2"><i data-lucide="timer" class="w-4 h-4 text-cyan-600"></i>Voies & Délai d'action</h5><p class="text-slate-500 pl-6"><b>PO (LI):</b> 15-30 min<br><b>PO (LP):</b> ~1h</p></div>
                                        <div><h5 class="font-semibold text-slate-600 mb-1 flex items-center gap-2"><i data-lucide="alert-triangle" class="w-4 h-4 text-amber-600"></i>Effets secondaires</h5><p class="text-slate-500 pl-6">Constipation, somnolence, nausées, dépression respiratoire.</p></div>
                                        <div><h5 class="font-semibold text-slate-600 mb-1 flex items-center gap-2"><i data-lucide="ban" class="w-4 h-4 text-red-600"></i>Contre-indications</h5><p class="text-slate-500 pl-6">Idem morphine.</p></div>
                                        <div><h5 class="font-semibold text-slate-600 mb-1 flex items-center gap-2"><i data-lucide="flask-conical" class="w-4 h-4 text-green-600"></i>Antidote</h5><p class="text-slate-500 pl-6">Naloxone (Narcan®).</p></div>
                                        <div><h5 class="font-semibold text-slate-600 mb-1 flex items-center gap-2"><i data-lucide="gauge-circle" class="w-4 h-4 text-emerald-600"></i>Posologie max</h5><p class="text-slate-500 pl-6">Variable selon tolérance (souvent 120–160 mg/j per os).</p></div>
                                    </div>
                                </div>
                            </div>
                        </section>
                    </div>
                    <div id="coanalgesiques" class="antalgiques-page hidden">
                        <section class="bg-gradient-to-br from-purple-100 to-indigo-100 rounded-2xl p-6 md:p-12">
                            <h3 class="text-3xl sm:text-4xl md:text-5xl font-extrabold mb-12 text-center leading-tight text-slate-800"><span class="bg-gradient-to-br from-purple-500 to-indigo-600 bg-clip-text text-transparent">Adjuvants (Co-analgésiques)</span></h3>
                            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                                <div class="bg-white/70 backdrop-blur-sm rounded-xl shadow-lg p-6 flex flex-col transition-all duration-300 hover:shadow-2xl hover:-translate-y-1">
                                    <div class="mb-4">
                                        <h4 class="text-xl font-bold text-slate-800">Gabapentine / Prégabaline</h4>
                                        <p class="text-xs text-slate-500 italic">Ex: Neurontin®, Lyrica®</p>
                                        <p class="text-sm text-slate-500 mt-1">Classe : antiépileptiques</p>
                                    </div>
                                    <div class="space-y-4 text-sm flex-grow">
                                        <div><h5 class="font-semibold text-slate-600 mb-1 flex items-center gap-2"><i data-lucide="atom" class="w-4 h-4 text-sky-600"></i>Mécanisme</h5><p class="text-slate-500 pl-6">Modulent canaux calciques → ↓ libération neurotransmetteurs excitateurs.</p></div>
                                        <div><h5 class="font-semibold text-slate-600 mb-1 flex items-center gap-2"><i data-lucide="timer" class="w-4 h-4 text-cyan-600"></i>Voies & Délai d'action</h5><p class="text-slate-500 pl-6"><b>PO:</b> effet progressif sur plusieurs jours à semaines.</p></div>
                                        <div><h5 class="font-semibold text-slate-600 mb-1 flex items-center gap-2"><i data-lucide="alert-triangle" class="w-4 h-4 text-amber-600"></i>Effets secondaires</h5><p class="text-slate-500 pl-6">Somnolence, vertiges, prise de poids, œdèmes.</p></div>
                                        <div><h5 class="font-semibold text-slate-600 mb-1 flex items-center gap-2"><i data-lucide="ban" class="w-4 h-4 text-red-600"></i>Contre-indications</h5><p class="text-slate-500 pl-6">Hypersensibilité, prudence en insuffisance rénale.</p></div>
                                        <div><h5 class="font-semibold text-slate-600 mb-1 flex items-center gap-2"><i data-lucide="gauge-circle" class="w-4 h-4 text-emerald-600"></i>Posologie max</h5><p class="text-slate-500 pl-6">Gabapentine: 3600 mg/j. Prégabaline: 600 mg/j.</p></div>
                                    </div>
                                </div>
                                <div class="bg-white/70 backdrop-blur-sm rounded-xl shadow-lg p-6 flex flex-col transition-all duration-300 hover:shadow-2xl hover:-translate-y-1">
                                    <div class="mb-4">
                                        <h4 class="text-xl font-bold text-slate-800">Amitriptyline / Duloxétine</h4>
                                        <p class="text-xs text-slate-500 italic">Ex: Laroxyl®, Cymbalta®</p>
                                        <p class="text-sm text-slate-500 mt-1">Classe : antidépresseurs</p>
                                    </div>
                                    <div class="space-y-4 text-sm flex-grow">
                                        <div><h5 class="font-semibold text-slate-600 mb-1 flex items-center gap-2"><i data-lucide="atom" class="w-4 h-4 text-sky-600"></i>Mécanisme</h5><p class="text-slate-500 pl-6">Inhibition recapture sérotonine + noradrénaline → modulation douleur.</p></div>
                                        <div><h5 class="font-semibold text-slate-600 mb-1 flex items-center gap-2"><i data-lucide="timer" class="w-4 h-4 text-cyan-600"></i>Voies & Délai d'action</h5><p class="text-slate-500 pl-6"><b>PO:</b> effet retardé, ressenti après 1 à 4 semaines.</p></div>
                                        <div><h5 class="font-semibold text-slate-600 mb-1 flex items-center gap-2"><i data-lucide="alert-triangle" class="w-4 h-4 text-amber-600"></i>Effets secondaires</h5><p class="text-slate-500 pl-6">Sécheresse buccale, constipation (ATC) ; nausées, céphalées (IRSN).</p></div>
                                        <div><h5 class="font-semibold text-slate-600 mb-1 flex items-center gap-2"><i data-lucide="ban" class="w-4 h-4 text-red-600"></i>Contre-indications</h5><p class="text-slate-500 pl-6">Glaucome, adénome prostatique (ATC), association IMAO.</p></div>
                                        <div><h5 class="font-semibold text-slate-600 mb-1 flex items-center gap-2"><i data-lucide="gauge-circle" class="w-4 h-4 text-emerald-600"></i>Posologie max</h5><p class="text-slate-500 pl-6">Amitriptyline: 150 mg/j. Duloxétine: 120 mg/j.</p></div>
                                    </div>
                                </div>
                            </div>
                        </section>
                    </div>
                    <div id="role" class="antalgiques-page hidden">
                        <section class="bg-gradient-to-br from-pink-100 to-rose-100 rounded-2xl p-6 md:p-12">
                            <h3 class="text-3xl sm:text-4xl md:text-5xl font-extrabold mb-12 text-center leading-tight text-slate-800"><span class="bg-gradient-to-br from-pink-500 to-rose-600 bg-clip-text text-transparent">Le Rôle Infirmier</span></h3>
                            <div class="grid lg:grid-cols-5 gap-8 lg:gap-12 items-center">
                                <div class="lg:col-span-2"><h4 class="text-2xl sm:text-3xl font-bold text-slate-800 mb-4">Un rôle <span class="bg-gradient-to-r from-purple-500 to-indigo-500 bg-clip-text text-transparent">essentiel</span></h4><p class="text-slate-600 text-sm sm:text-base">L'infirmier(ère) est au cœur de la prise en charge de la douleur. Son action repose sur une approche globale et continue, axée sur le bien-être du patient.</p></div>
                                <div class="lg:col-span-3 space-y-6"><div class="flex items-start gap-4 sm:gap-6 p-6 bg-white/70 backdrop-blur-sm rounded-xl shadow-lg"><div class="bg-green-100 text-green-700 w-12 h-12 sm:w-16 sm:h-16 rounded-full flex-shrink-0 flex items-center justify-center text-xl sm:text-2xl font-bold">1</div><div><h5 class="font-bold text-lg sm:text-xl text-slate-800 mb-1">Évaluer</h5><p class="text-slate-600 text-sm sm:text-base">Évaluer systématiquement la douleur, en gardant toujours la même échelle.</p></div></div><div class="flex items-start gap-4 sm:gap-6 p-6 bg-white/70 backdrop-blur-sm rounded-xl shadow-lg"><div class="bg-blue-100 text-blue-700 w-12 h-12 sm:w-16 sm:h-16 rounded-full flex-shrink-0 flex items-center justify-center text-xl sm:text-2xl font-bold">2</div><div><h5 class="font-bold text-lg sm:text-xl text-slate-800 mb-1">Administrer</h5><p class="text-slate-600 text-sm sm:text-base">Délivrer les traitements sur prescription et potentialiser l'effet placebo.</p></div></div><div class="flex items-start gap-4 sm:gap-6 p-6 bg-white/70 backdrop-blur-sm rounded-xl shadow-lg"><div class="bg-orange-100 text-orange-700 w-12 h-12 sm:w-16 sm:h-16 rounded-full flex-shrink-0 flex items-center justify-center text-xl sm:text-2xl font-bold">3</div><div><h5 class="font-bold text-lg sm:text-xl text-slate-800 mb-1">Surveiller</h5><p class="text-slate-600 text-sm sm:text-base">Observer l'efficacité du traitement et l'apparition d'effets indésirables.</p></div></div></div>
                            </div>
                            <div class="mt-12">
                                <h4 class="text-2xl sm:text-3xl font-bold text-slate-800 mb-6 text-center">Recommandations de l'OMS</h4>
                                <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6 text-sm">
                                    <div class="bg-white/70 backdrop-blur-sm rounded-xl shadow-lg p-4"><div class="flex items-center gap-3"><div class="bg-rose-100 text-rose-700 w-8 h-8 rounded-full flex-shrink-0 flex items-center justify-center font-bold">1</div><div><h5 class="font-semibold text-slate-700">Voie Per Os prioritaire</h5><p class="text-slate-500">Pour le confort et la facilité d'administration.</p></div></div></div>
                                    <div class="bg-white/70 backdrop-blur-sm rounded-xl shadow-lg p-4"><div class="flex items-center gap-3"><div class="bg-rose-100 text-rose-700 w-8 h-8 rounded-full flex-shrink-0 flex items-center justify-center font-bold">2</div><div><h5 class="font-semibold text-slate-700">Prioriser la prévention</h5><p class="text-slate-500">Administrer à intervalles réguliers.</p></div></div></div>
                                    <div class="bg-white/70 backdrop-blur-sm rounded-xl shadow-lg p-4"><div class="flex items-center gap-3"><div class="bg-rose-100 text-rose-700 w-8 h-8 rounded-full flex-shrink-0 flex items-center justify-center font-bold">3</div><div><h5 class="font-semibold text-slate-700">Utiliser une approche par étapes</h5><p class="text-slate-500">Commencer avec l'antalgique adapté à l'intensité.</p></div></div></div>
                                    <div class="bg-white/70 backdrop-blur-sm rounded-xl shadow-lg p-4"><div class="flex items-center gap-3"><div class="bg-rose-100 text-rose-700 w-8 h-8 rounded-full flex-shrink-0 flex items-center justify-center font-bold">4</div><div><h5 class="font-semibold text-slate-700">Individualisation</h5><p class="text-slate-500">Adapter le traitement à chaque patient.</p></div></div></div>
                                    <div class="bg-white/70 backdrop-blur-sm rounded-xl shadow-lg p-4"><div class="flex items-center gap-3"><div class="bg-rose-100 text-rose-700 w-8 h-8 rounded-full flex-shrink-0 flex items-center justify-center font-bold">5</div><div><h5 class="font-semibold text-slate-700">Ajout de co-analgésiques</h5><p class="text-slate-500">Si nécessaire, surtout pour les douleurs neuro.</p></div></div></div>
                                </div>
                            </div>
                        </section>
                    </div>
                    <div id="quiz" class="antalgiques-page hidden">
                        <div class="bg-gradient-to-br from-slate-50 to-gray-100 p-6 sm:p-8 md:p-10 rounded-2xl shadow-inner">
                            <h2 class="text-3xl md:text-4xl font-extrabold text-slate-800 mb-2">Quiz Interactif</h2>
                            <p class="text-slate-600 mb-8">Testez vos connaissances et validez vos acquis sur les antalgiques.</p>
                            
                            <div id="qcm-container-antalgiques" class="space-y-8">
                                <!-- Les questions du quiz seront injectées ici par le JavaScript -->
                            </div>

                            <div id="quiz-footer-antalgiques" class="mt-10 pt-6 border-t-2 border-slate-200 flex justify-between items-center">
                                <p id="quiz-score-antalgiques" class="text-xl md:text-2xl font-bold text-slate-800"></p>
                                <button id="reset-button-antalgiques" class="bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white font-semibold py-3 px-6 rounded-xl shadow-lg hover:scale-105 hover:shadow-xl transition-all duration-200 transform opacity-0 pointer-events-none">
                                    Recommencer
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ANTICOAGULANTS MODULE CONTENT -->
                <div id="module-antico" class="module-page hidden">
                    <nav class="pb-6">
                        <div class="p-1.5 bg-slate-200/60 rounded-xl grid grid-cols-4 sm:grid-cols-4 md:grid-cols-8 gap-2">
                            <button data-page="hemostase" class="antico-nav-btn w-full py-3 px-2 rounded-lg text-slate-800 font-semibold transition-all duration-300 text-xs sm:text-sm">Hémostase</button>
                            <button data-page="aap" class="antico-nav-btn w-full py-3 px-2 rounded-lg text-slate-800 font-semibold transition-all duration-300 text-xs sm:text-sm">AAP</button>
                            <button data-page="hnf" class="antico-nav-btn w-full py-3 px-2 rounded-lg text-slate-800 font-semibold transition-all duration-300 text-xs sm:text-sm">HNF</button>
                            <button data-page="hbpm" class="antico-nav-btn w-full py-3 px-2 rounded-lg text-slate-800 font-semibold transition-all duration-300 text-xs sm:text-sm">HBPM</button>
                            <button data-page="aod" class="antico-nav-btn w-full py-3 px-2 rounded-lg text-slate-800 font-semibold transition-all duration-300 text-xs sm:text-sm">AOD</button>
                            <button data-page="avk" class="antico-nav-btn w-full py-3 px-2 rounded-lg text-slate-800 font-semibold transition-all duration-300 text-xs sm:text-sm">AVK</button>
                            <button data-page="quiz-antico" class="antico-nav-btn w-full py-3 px-2 rounded-lg text-slate-800 font-semibold transition-all duration-300 text-xs sm:text-sm">Quiz</button>
                            <button data-page="synthese-antico" class="antico-nav-btn w-full py-3 px-2 rounded-lg text-slate-800 font-semibold transition-all duration-300 text-xs sm:text-sm">Synthèse</button>
                        </div>
                    </nav>

                    <div id="hemostase" class="antico-page hidden">
                        <h2 class="text-2xl md:text-3xl font-bold text-green-600">
                            🩸 L'HÉMOSTASE
                        </h2>
                        <div class="space-y-4 mt-4 text-sm text-slate-700">
                            <p>L'hémostase est le processus physiologique qui permet d'arrêter un saignement. Elle se déroule en trois étapes principales, suivies d'une étape de réparation.</p>
                            
                            <div class="bg-green-50 p-4 rounded-lg">
                                <h3 class="font-semibold text-green-800 text-base">① L'HÉMOSTASE PRIMAIRE : LE CLOU PLAQUETTAIRE</h3>
                                <p class="mt-2">C'est la première réponse à une brèche vasculaire. Elle est rapide mais fragile.</p>
                                <ul class="list-disc list-inside mt-2 space-y-1">
                                    <li><strong>Vasoconstriction :</strong> Le vaisseau sanguin se contracte pour réduire le débit sanguin.</li>
                                    <li><strong>Adhésion plaquettaire :</strong> Les plaquettes sanguines adhèrent à la paroi du vaisseau endommagé.</li>
                                    <li><strong>Activation et agrégation plaquettaire :</strong> Les plaquettes changent de forme, libèrent des substances qui attirent d'autres plaquettes et s'agglutinent pour former un "bouchon" appelé le clou plaquettaire.</li>
                                </ul>
                                <p class="mt-2 italic bg-green-100 p-2 rounded"><strong>Objectif :</strong> Former une barrière temporaire pour limiter la perte de sang.</p>
                            </div>
        
                            <div class="bg-green-50 p-4 rounded-lg">
                                <h3 class="font-semibold text-green-800 text-base">② LA COAGULATION SANGUINE : LE CAILLOT DE FIBRINE</h3>
                                <p class="mt-2">C'est la deuxième étape, plus lente mais plus solide. Elle vise à renforcer le clou plaquettaire.</p>
                                   <ul class="list-disc list-inside mt-2 space-y-1">
                                    <li><strong>Cascade de coagulation :</strong> Une série de réactions en chaîne active des protéines appelées facteurs de coagulation.</li>
                                    <li><strong>Formation de la thrombine :</strong> Cette cascade aboutit à la formation de la thrombine.</li>
                                    <li><strong>Formation de la fibrine :</strong> La thrombine transforme le fibrinogène (soluble) en fibrine (insoluble).</li>
                                    <li><strong>Réseau de fibrine :</strong> La fibrine forme un réseau de filaments qui emprisonne les globules rouges et les plaquettes, créant ainsi un caillot sanguin solide et stable.</li>
                                </ul>
                                <p class="mt-2 italic bg-green-100 p-2 rounded"><strong>Objectif :</strong> Consolider le clou plaquettaire et former un caillot sanguin durable.</p>
                            </div>
        
                            <div class="bg-green-50 p-4 rounded-lg">
                                <h3 class="font-semibold text-green-800 text-base">③ LA FIBRINOLYSE : LA DISSOLUTION DU CAILLOT</h3>
                                <p class="mt-2">Une fois la cicatrisation terminée, le caillot doit être dissous pour rétablir la circulation sanguine.</p>
                                <ul class="list-disc list-inside mt-2 space-y-1">
                                    <li><strong>Activation du plasminogène :</strong> Le plasminogène (inactif) est transformé en plasmine (active).</li>
                                    <li><strong>Action de la plasmine :</strong> La plasmine dégrade la fibrine, ce qui entraîne la dissolution du caillot.</li>
                                </ul>
                                   <p class="mt-2 italic bg-green-100 p-2 rounded"><strong>Objectif :</strong> Rétablir l'intégrité du vaisseau sanguin et la fluidité du sang.</p>
                            </div>
                            
                            <div class="bg-green-100 p-4 rounded-lg border-l-4 border-green-400">
                                <h3 class="font-semibold text-green-800 text-base">💡 POINTS CLÉS POUR LA PRATIQUE INFIRMIÈRE</h3>
                                <ul class="list-disc list-inside mt-2 space-y-1">
                                    <li><strong>Surveillance des traitements anticoagulants :</strong> (Héparine, AVK, AOD) qui agissent sur la cascade de coagulation.</li>
                                    <li><strong>Surveillance des traitements antiagrégants plaquettaires :</strong> (Aspirine, Clopidogrel) qui agissent sur l'hémostase primaire.</li>
                                </ul>
                            </div>
                        </div>
                        <div class="mt-6 flex justify-center items-center">
                            <iframe width="560" height="315" src="https://www.youtube.com/embed/cp-A8UwSaFc" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen class="rounded-xl"></iframe>
                        </div>
                    </div>
        
                    <div id="aap" class="antico-page hidden">
                        <h2 class="text-2xl md:text-3xl font-bold text-purple-600">Antiagrégants plaquettaires (AAP)</h2>
                        <div class="space-y-4 mt-4">
                            <div class="bg-purple-50 p-4 rounded-lg">
                                <h3 class="font-semibold text-purple-800 mb-2">💊 Exemples</h3>
                                <table class="w-full text-sm text-left">
                                    <thead class="bg-purple-100">
                                        <tr>
                                            <th class="p-2 font-semibold text-purple-800">DCI</th>
                                            <th class="p-2 font-semibold text-purple-800">Nom Commercial</th>
                                        </tr>
                                    </thead>
                                    <tbody class="text-purple-700">
                                        <tr><td class="p-2">Acide acétylsalicylique</td><td class="p-2">Kardegic®</td></tr>
                                        <tr class="bg-purple-50"><td class="p-2">Clopidogrel</td><td class="p-2">Plavix®</td></tr>
                                        <tr><td class="p-2">Prasugrel</td><td class="p-2">Efient®</td></tr>
                                        <tr class="bg-purple-50"><td class="p-2">Ticagrelor</td><td class="p-2">Brilique®</td></tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="bg-purple-50 p-4 rounded-lg">
                                <h3 class="font-semibold text-purple-800">⚙️ Mécanisme d'action</h3>
                                <p class="text-purple-700 text-sm">Inhibent l'activation et l'agrégation des plaquettes, empêchant ainsi la formation du clou plaquettaire.</p>
                            </div>
                            <div class="bg-purple-50 p-4 rounded-lg">
                                <h3 class="font-semibold text-purple-800">🔬 Surveillance</h3>
                                <p class="text-purple-700 text-sm">Principalement clinique. Aucune surveillance biologique de routine n'est nécessaire. Surveillance des signes d'hémorragie.</p>
                            </div>
                            <div class="bg-purple-50 p-4 rounded-lg">
                                <h3 class="font-semibold text-purple-800">⚠️ Points de vigilance</h3>
                                <ul class="list-disc list-inside text-purple-700 text-sm space-y-1">
                                    <li>Risque hémorragique élevé, en particulier en cas de saignement digestif.</li>
                                    <li>Ne pas associer à des AINS ou d'autres anticoagulants sans avis médical.</li>
                                    <li>Arrêt du traitement avant une intervention chirurgicale selon les protocoles en vigueur.</li>
                                    <li>Il n'existe pas d'antidote spécifique pour neutraliser leur effet.</li>
                                </ul>
                            </div>
                            <div class="bg-purple-100 p-4 rounded-lg border-l-4 border-purple-400">
                                <h3 class="font-semibold text-purple-800">🎓 Éducation Thérapeutique du Patient</h3>
                                <ul class="list-disc list-inside text-purple-700 text-sm space-y-1 mt-2">
                                    <li>Informer tous les professionnels de santé.</li>
                                    <li>Surveiller les saignements inhabituels (saignement des gencives, hématomes spontanés, saignement de nez).</li>
                                    <li>Ne pas prendre d'autres médicaments, en particulier ceux contenant de l'aspirine, sans en parler à un professionnel.</li>
                                </ul>
                            </div>
                        </div>
                    </div>
        
                    <div id="hnf" class="antico-page hidden">
                        <h2 class="text-2xl md:text-3xl font-bold text-blue-400">Héparines Non Fractionnées (HNF)</h2>
                        <div class="space-y-4 mt-4">
                            <div class="bg-blue-50 p-4 rounded-lg">
                                <h3 class="font-semibold text-blue-800 mb-2">💊 Exemples</h3>
                                <table class="w-full text-sm text-left">
                                    <thead class="bg-blue-100">
                                        <tr>
                                            <th class="p-2 font-semibold text-blue-800">DCI</th>
                                            <th class="p-2 font-semibold text-blue-800">Nom Commercial</th>
                                        </tr>
                                    </thead>
                                    <tbody class="text-blue-700">
                                        <tr><td class="p-2">Héparine sodique</td><td class="p-2">Héparine sodique Panpharma®</td></tr>
                                        <tr class="bg-blue-50"><td class="p-2">Héparine calcique</td><td class="p-2">Calciparine®</td></tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="bg-blue-50 p-4 rounded-lg">
                                <h3 class="font-semibold text-blue-800">⚙️ Mécanisme d'action</h3>
                                <p class="text-blue-700 text-sm">Potentialisent l'activité de l'antithrombine, inhibant la thrombine (IIa) et le facteur Xa.</p>
                            </div>
                            <div class="bg-blue-50 p-4 rounded-lg">
                                <h3 class="font-semibold text-blue-800">🔬 Administration & Surveillance</h3>
                                <p class="text-blue-700 text-sm"><span class="font-bold">Voies :</span> IV (seringue électrique) ou SC. <br> <span class="font-bold">Surveillance :</span> TCA (Temps de Céphaline Activée), cible de 1,5 à 3 fois le temps témoin. Numération plaquettaire (risque de TIH).</p>
                            </div>
                            <div class="bg-blue-50 p-4 rounded-lg">
                                <h3 class="font-semibold text-blue-800">⚠️ Points de vigilance</h3>
                                <ul class="list-disc list-inside text-blue-700 text-sm space-y-1">
                                    <li>Demi-vie courte, nécessite une administration continue en curatif.</li>
                                    <li>Risque de TIH (Thrombopénie Induite par l'Héparine).</li>
                                    <li>Antidote : Sulfate de protamine.</li>
                                </ul>
                            </div>
                            <div class="bg-slate-50 p-4 rounded-lg">
                                <h3 class="font-semibold text-slate-800 mb-2">📊 Comparaison HNF / HBPM</h3>
                                <div class="md:flex md:items-center md:space-x-6">
                                    <div class="md:w-1/2 lg:w-2/5">
                                        <canvas id="heparineChartHNF"></canvas>
                                    </div>
                                    <div class="md:w-1/2 lg:w-3/5">
                                        <p class="text-sm text-slate-600 mt-4 md:mt-0">
                                           Ce graphique compare les profils des deux types d'héparines. On voit que les HBPM ont une demi-vie plus longue et une surveillance moins contraignante, ce qui facilite leur usage en ambulatoire. L'HNF, avec sa demi-vie courte, est préférée en situation d'urgence où une réversibilité rapide est nécessaire.
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
        
                    <div id="hbpm" class="antico-page hidden">
                        <h2 class="text-2xl md:text-3xl font-bold text-blue-800">Héparines de Bas Poids Moléculaire (HBPM)</h2>
                        <div class="space-y-4 mt-4">
                            <div class="bg-blue-900/10 p-4 rounded-lg">
                                <h3 class="font-semibold text-blue-950 mb-2">💊 Exemples</h3>
                                <table class="w-full text-sm text-left">
                                    <thead class="bg-blue-950/20">
                                        <tr>
                                            <th class="p-2 font-semibold text-blue-950">DCI</th>
                                            <th class="p-2 font-semibold text-blue-950">Nom Commercial</th>
                                        </tr>
                                    </thead>
                                    <tbody class="text-blue-950">
                                        <tr><td class="p-2">Enoxaparine</td><td class="p-2">Lovenox®</td></tr>
                                        <tr class="bg-blue-900/10"><td class="p-2">Tinzaparine</td><td class="p-2">Innohep®</td></tr>
                                        <tr><td class="p-2">Deltéparine</td><td class="p-2">Fragmine®</td></tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="bg-blue-900/10 p-4 rounded-lg">
                                <h3 class="font-semibold text-blue-950">⚙️ Mécanisme d'action</h3>
                                <p class="text-blue-950 text-sm">Activité anti-Xa prédominante. Moins d'effet sur la thrombine.</p>
                            </div>
                            <div class="bg-blue-900/10 p-4 rounded-lg">
                                <h3 class="font-semibold text-blue-950">🔬 Administration & Surveillance</h3>
                                <p class="text-blue-950 text-sm"><span class="font-bold">Voie :</span> Sous-cutanée (SC). <br> <span class="font-bold">Surveillance :</span> Activité anti-Xa (si besoin) : cible entre 0,6-1,0 UI/mL. Numération plaquettaire.</p>
                            </div>
                            <div class="bg-blue-900/10 p-4 rounded-lg">
                                <h3 class="font-semibold text-blue-950">⚠️ Points de vigilance</h3>
                                <ul class="list-disc list-inside text-blue-950 text-sm space-y-1">
                                    <li>Demi-vie plus longue que les HNF (1 à 2 injections/jour).</li>
                                    <li>Risque de TIH plus faible mais existant.</li>
                                    <li>Élimination rénale : ajustement si insuffisance rénale.</li>
                                </ul>
                            </div>
                            <div class="bg-slate-50 p-4 rounded-lg">
                                <h3 class="font-semibold text-slate-800 mb-2">📊 Comparaison HNF / HBPM</h3>
                                <div class="md:flex md:items-center md:space-x-6">
                                    <div class="md:w-1/2 lg:w-2/5">
                                        <canvas id="heparineChartHBPM"></canvas>
                                    </div>
                                    <div class="md:w-1/2 lg:w-3/5">
                                           <p class="text-sm text-slate-600 mt-4 md:mt-0">
                                               Ce graphique compare les profils des deux types d'héparines. On voit que les HBPM ont une demi-vie plus longue et une surveillance moins contraignante, ce qui facilite leur usage en ambulatoire. L'HNF, avec sa demi-vie courte, est préférée en situation d'urgence où une réversibilité rapide est nécessaire.
                                           </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>            
                    
                    <div id="aod" class="antico-page hidden">
                        <h2 class="text-2xl md:text-3xl font-bold text-yellow-600">Anticoagulants Oraux Directs (AOD)</h2>
                        <div class="space-y-4 mt-4">
                            <div class="bg-yellow-50 p-4 rounded-lg">
                                <h3 class="font-semibold text-yellow-800 mb-2">💊 Exemples</h3>
                                <table class="w-full text-sm text-left">
                                    <thead class="bg-yellow-100">
                                        <tr>
                                            <th class="p-2 font-semibold text-yellow-800">DCI</th>
                                            <th class="p-2 font-semibold text-yellow-800">Nom Commercial</th>
                                        </tr>
                                    </thead>
                                    <tbody class="text-yellow-700">
                                        <tr><td class="p-2">Rivaroxaban</td><td class="p-2">Xarelto®</td></tr>
                                        <tr class="bg-yellow-50"><td class="p-2">Apixaban</td><td class="p-2">Eliquis®</td></tr>
                                        <tr><td class="p-2">Dabigatran</td><td class="p-2">Pradaxa®</td></tr>
                                        <tr class="bg-yellow-50"><td class="p-2">Edoxaban</td><td class="p-2">Lixiana®</td></tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="bg-yellow-50 p-4 rounded-lg">
                                <h3 class="font-semibold text-yellow-800">⚙️ Mécanisme d'action</h3>
                                <p class="text-yellow-700 text-sm">Inhibiteurs directs soit de la thrombine (Dabigatran) soit du facteur Xa (Rivaroxaban, Apixaban).</p>
                            </div>
                            <div class="bg-yellow-50 p-4 rounded-lg">
                                <h3 class="font-semibold text-yellow-800">🔬 Surveillance</h3>
                                <p class="text-yellow-700 text-sm">Pas de surveillance biologique de routine. Évaluation de la fonction rénale et hépatique nécessaire.</p>
                            </div>
                            <div class="bg-yellow-50 p-4 rounded-lg">
                                <h3 class="font-semibold text-yellow-800">⚠️ Points de vigilance</h3>
                                <ul class="list-disc list-inside text-yellow-700 text-sm space-y-1">
                                    <li>Prise fixe, observance primordiale.</li>
                                    <li>Moins d'interactions alimentaires que les AVK.</li>
                                    <li>Antidotes spécifiques existent mais ne sont pas toujours disponibles.</li>
                                    <li>Gestion péri-opératoire spécifique.</li>
                                </ul>
                            </div>
                            <div class="bg-slate-50 p-4 rounded-lg">
                                <h3 class="font-semibold text-slate-800 mb-2">📊 Comparaison AVK / AOD</h3>
                                <div class="md:flex md:items-center md:space-x-6">
                                    <div class="md:w-1/2 lg:w-2/5">
                                        <canvas id="oralAnticoagChartAOD"></canvas>
                                    </div>
                                    <div class="md:w-1/2 lg:w-3/5">
                                           <p class="text-sm text-slate-600 mt-4 md:mt-0">
                                               Ce graphique met en évidence les différences majeures entre les AVK et les AOD. Les AOD offrent un confort d'utilisation supérieur grâce à un délai d'action rapide, une absence de surveillance biologique de routine, moins d'interactions et des relais simplifiés. Les AVK, plus anciens, nécessitent une gestion plus rigoureuse.
                                           </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
        
                    <div id="avk" class="antico-page hidden">
                        <h2 class="text-2xl md:text-3xl font-bold text-red-600">Antivitamines K (AVK)</h2>
                        <div class="space-y-4 mt-4">
                            <div class="bg-red-50 p-4 rounded-lg">
                                <h3 class="font-semibold text-red-800 mb-2">💊 Exemples</h3>
                                <table class="w-full text-sm text-left">
                                    <thead class="bg-red-100">
                                        <tr>
                                            <th class="p-2 font-semibold text-red-800">DCI</th>
                                            <th class="p-2 font-semibold text-red-800">Nom Commercial</th>
                                        </tr>
                                    </thead>
                                    <tbody class="text-red-700">
                                        <tr><td class="p-2">Warfarine</td><td class="p-2">Coumadine®</td></tr>
                                        <tr class="bg-red-50"><td class="p-2">Fluindione</td><td class="p-2">Préviscan®</td></tr>
                                        <tr><td class="p-2">Acénocoumarol</td><td class="p-2">Sintrom®</td></tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="bg-red-50 p-4 rounded-lg">
                                <h3 class="font-semibold text-red-800">⚙️ Mécanisme d'action</h3>
                                <p class="text-red-700 text-sm">Inhibent la synthèse des facteurs de coagulation vitamine K-dépendants (II, VII, IX, X).</p>
                            </div>
                            <div class="bg-red-50 p-4 rounded-lg">
                                <h3 class="font-semibold text-red-800">
                                    🔬 Surveillance Biologique
                                </h3>
                                <p class="text-red-700 text-sm"><span class="font-bold">INR (International Normalized Ratio)</span>. Cible : 2-3 (selon l'indication). Contrôles réguliers indispensables.</p>
                            </div>
                            <div class="bg-red-50 p-4 rounded-lg">
                                <h3 class="font-semibold text-red-800">⚠️ Points de vigilance</h3>
                                <ul class="list-disc list-inside text-red-700 text-sm space-y-1">
                                    <li>Risque hémorragique élevé.</li>
                                    <li>Nombreuses interactions (médicaments, aliments riches en vit. K).</li>
                                    <li>Long délai d'action (environ 72h) et longue demi-vie.</li>
                                    <li>Antidote : Vitamine K.</li>
                                </ul>
                            </div>
                            <div class="bg-red-100 p-4 rounded-lg border-l-4 border-red-400">
                                <h3 class="font-semibold text-red-800">🎓 Éducation Thérapeutique du Patient</h3>
                                <ul class="list-disc list-inside text-red-700 text-sm space-y-1 mt-2">
                                    <li>Respecter l'heure de prise (le soir).</li>
                                    <li>Avoir une carte de porteur d'AVK.</li>
                                    <li>Informer tous les professionnels de santé.</li>
                                    <li>Suivre le calendrier des contrôles d'INR.</li>
                                    <li>Surveiller les signes de surdosage (saignements) et sous-dosage (douleur mollet, essoufflement...).</li>
                                    <li>Pas d'automédication (AINS, aspirine interdits).</li>
                                    <li>Maintenir des apports alimentaires en vitamine K stables.</li>
                                </ul>
                            </div>
                            <div class="bg-slate-50 p-4 rounded-lg">
                                <h3 class="font-semibold text-slate-800 mb-2">📊 Comparaison AVK / AOD</h3>
                                <div class="md:flex md:items-center md:space-x-6">
                                    <div class="md:w-1/2 lg:w-2/5">
                                        <canvas id="oralAnticoagChartAVK"></canvas>
                                    </div>
                                    <div class="md:w-1/2 lg:w-3/5">
                                           <p class="text-sm text-slate-600 mt-4 md:mt-0">
                                               Ce graphique met en évidence les différences majeures entre les AVK et les AOD. Les AOD offrent un confort d'utilisation supérieur grâce à un délai d'action rapide, une absence de surveillance biologique de routine, moins d'interactions et des relais simplifiés. Les AVK, plus anciens, nécessitent une gestion plus rigoureuse.
                                           </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
        
                    <div id="quiz-antico" class="antico-page hidden">
                        <div class="bg-gradient-to-br from-slate-50 to-gray-100 p-6 sm:p-8 md:p-10 rounded-2xl shadow-inner">
                            <h2 class="text-3xl md:text-4xl font-extrabold text-slate-800 mb-2">Quiz Interactif</h2>
                            <p class="text-slate-600 mb-8">Testez vos connaissances et validez vos acquis sur les anticoagulants.</p>
                            
                            <div id="qcm-container-antico" class="space-y-8">
                                <!-- Les questions du quiz seront injectées ici par le JavaScript -->
                            </div>
        
                            <div id="quiz-footer-antico" class="mt-10 pt-6 border-t-2 border-slate-200 flex justify-between items-center">
                                <p id="quiz-score-antico" class="text-xl md:text-2xl font-bold text-slate-800"></p>
                                <button id="reset-button-antico" class="bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white font-semibold py-3 px-6 rounded-xl shadow-lg hover:scale-105 hover:shadow-xl transition-all duration-200 transform opacity-0 pointer-events-none">
                                    Recommencer
                                </button>
                            </div>
                        </div>
                    </div>
        
                    <div id="synthese-antico" class="antico-page hidden">
                        <div class="bg-white p-4 rounded-xl shadow-lg flex justify-center">
                            <img src="https://rehost.diberie.com/Picture/Get/f/431909" alt="Fiche de synthèse sur les anticoagulants" class="rounded-lg max-w-full h-auto">
                        </div>
                    </div>
                </div>

                <!-- Placeholder content for other modules -->
                 <div id="module-antiinflam" class="module-page hidden">
                    <h2 class="text-3xl font-bold text-slate-800 mb-4">Anti-inflammatoires</h2>
                    <p class="text-slate-600">Contenu sur les anti-inflammatoires à venir...</p>
                </div>
                 <div id="module-antihta" class="module-page hidden">
                    <h2 class="text-3xl font-bold text-slate-800 mb-4">Antihypertenseurs</h2>
                    <p class="text-slate-600">Contenu sur les antihypertenseurs à venir...</p>
                </div>
                <div id="module-antiarythm" class="module-page hidden">
                    <nav class="pb-6">
                        <div class="p-1.5 bg-slate-200/60 rounded-xl grid grid-cols-4 sm:grid-cols-4 md:grid-cols-7 gap-2">
                            <button data-page="classe1" class="antiarythm-nav-btn w-full py-3 px-2 rounded-lg text-slate-800 font-semibold transition-all duration-300 text-xs sm:text-sm">Stab. Membrane</button>
                            <button data-page="classe2" class="antiarythm-nav-btn w-full py-3 px-2 rounded-lg text-slate-800 font-semibold transition-all duration-300 text-xs sm:text-sm">Bêta-bloquants</button>
                            <button data-page="classe3" class="antiarythm-nav-btn w-full py-3 px-2 rounded-lg text-slate-800 font-semibold transition-all duration-300 text-xs sm:text-sm">Inhib. Potassiques</button>
                            <button data-page="classe4" class="antiarythm-nav-btn w-full py-3 px-2 rounded-lg text-slate-800 font-semibold transition-all duration-300 text-xs sm:text-sm">Inhib. Calciques</button>
                            <button data-page="digitaliques" class="antiarythm-nav-btn w-full py-3 px-2 rounded-lg text-slate-800 font-semibold transition-all duration-300 text-xs sm:text-sm">Digitaliques</button>
                            <button data-page="quiz-antiarythm" class="antiarythm-nav-btn w-full py-3 px-2 rounded-lg text-slate-800 font-semibold transition-all duration-300 text-xs sm:text-sm">Quiz</button>
                            <button data-page="synthese" class="antiarythm-nav-btn w-full py-3 px-2 rounded-lg text-slate-800 font-semibold transition-all duration-300 text-xs sm:text-sm">Synthèse</button>
                        </div>
                    </nav>

                    <div id="classe1" class="antiarythm-page">
                        <h2 class="text-2xl md:text-3xl font-bold text-red-600">Classe I : Stabilisants de membrane</h2>
                        <div class="space-y-4 mt-4">
                            <div class="bg-rose-50 p-4 rounded-lg">
                                <h3 class="font-semibold text-red-800">⚙️ Mécanisme d'action général</h3>
                                <p class="text-red-700 text-sm">Bloquent les canaux sodiques, ce qui ralentit la dépolarisation des cellules cardiaques. Ils stabilisent la membrane cellulaire pour réduire l'excitabilité cardiaque.</p>
                            </div>
                            
                            <div class="bg-red-100 p-4 rounded-lg">
                            <h3 class="text-xl font-bold text-red-700 pt-4">Sous-classe Ia (ex: Serecor®, Rythmodan®)</h3>
                            <div class="bg-red-100 p-4 rounded-lg">
                                <h4 class="font-semibold text-red-800">🔬 Indications & Effets</h4>
                                <p class="text-red-700 text-sm">Traitement des troubles supraventriculaires. Accélèrent le rythme et facilitent la conduction auriculo-ventriculaire.</p>
                            </div>
                                <div class="p-4 bg-red-200 border border-red-400 rounded-lg">
                                <h4 class="font-semibold text-red-800">⚠️ Points de vigilance</h4>
                                <ul class="list-disc list-inside text-red-700 text-sm space-y-1">
                                    <li><strong>Pouvoir arythmogène important :</strong> Risque de torsades de pointes.</li>
                                    <li><strong>Surveillance de la kaliémie :</strong> Une hypokaliémie majore les risques.</li>
                                    <li><strong>Hypersensibilité :</strong> Réactions immédiates (hypotension) ou retardées (cinchonisme).</li>
                                    <li><strong>Effets atropiniques (Disopyramide) :</strong> Bouche sèche, constipation, rétention urinaire.</li>
                                </ul>
                            </div>
                            </div>
                            
                            <div class="bg-red-100 p-4 rounded-lg">
                            <h3 class="text-xl font-bold text-red-700 pt-4">Sous-classe Ib (ex: Xylocard®, Dilantin®)</h3>
                             <div class="bg-red-100 p-4 rounded-lg">
                                <h4 class="font-semibold text-red-800">🔬 Indications & Effets</h4>
                                <p class="text-red-700 text-sm">Traitement des troubles du rythme ventriculaires graves, notamment lors d'intoxication digitalique (Phénytoïne).</p>
                            </div>
                                <div class="p-4 bg-red-200 border border-red-400 rounded-lg">
                                <h4 class="font-semibold text-red-800">⚠️ Points de vigilance</h4>
                                <ul class="list-disc list-inside text-red-700 text-sm space-y-1">
                                    <li><strong>Administration parentérale stricte (Lidocaïne)</strong> en raison du premier passage hépatique.</li>
                                    <li><strong>Signes de toxicité :</strong> neurotoxicité (agitation, confusion, convulsions) et troubles cardiovasculaires (hypotension, troubles du rythme).</li>
                                </ul>
                            </div>
                            </div>

                            <div class="bg-red-100 p-4 rounded-lg">
                            <h3 class="text-xl font-bold text-red-700 pt-4">Sous-classe Ic (ex: Flecaïne®, Rythmol®)</h3>
                            <div class="bg-red-100 p-4 rounded-lg">
                                <h4 class="font-semibold text-red-800">🔬 Indications & Effets</h4>
                                <p class="text-red-700 text-sm">Prévention et traitement des troubles supraventriculaires. Ralentissent fortement la conduction.</p>
                            </div>
                                <div class="p-4 bg-red-200 border border-red-400 rounded-lg">
                                <h4 class="font-semibold text-red-800">⚠️ Points de vigilance</h4>
                                <ul class="list-disc list-inside text-red-700 text-sm space-y-1">
                                    <li><strong>Effets pro-arythmogènes :</strong> peuvent aggraver des troubles du rythme.</li>
                                    <li><strong>Effets cardiaques :</strong> Poussées d'insuffisance cardiaque, ralentissement de la conduction.</li>
                                    <li><strong>Incompatibilité (Flécaïnide IV) :</strong> Ne pas diluer dans du NaCl, utiliser du sérum glucosé.</li>
                                </ul>
                            </div>
                            </div>
                        </div>
                    </div>
                    
                    <div id="classe2" class="antiarythm-page hidden">
                        <h2 class="text-2xl md:text-3xl font-bold text-purple-600">Classe II : Bêta-bloquants</h2>
                        <div class="space-y-4 mt-4">
                            <div class="bg-purple-50 p-4 rounded-lg">
                                <h3 class="font-semibold text-purple-800 mb-2">💊 Exemples</h3>
                                <p class="text-purple-700 text-sm">Acébutolol, Aténolol, Métoprolol (VO), Esmolol, Propranolol (IV)...</p>
                            </div>
                            <div class="bg-purple-50 p-4 rounded-lg">
                                <h3 class="font-semibold text-purple-800">⚙️ Mécanisme d'action</h3>
                                <p class="text-purple-700 text-sm">Bloquent les récepteurs bêta-adrénergiques, ce qui diminue la stimulation sympathique du cœur. Ils réduisent la fréquence cardiaque, la force de contraction et la vitesse de conduction.</p>
                            </div>
                            <div class="bg-purple-50 p-4 rounded-lg">
                                <h3 class="font-semibold text-purple-800">🔬 Indications</h3>
                                <p class="text-purple-700 text-sm">Ralentissement de la fréquence ventriculaire lors de fibrillation auriculaire. Prévention des arythmies ventriculaires après un infarctus du myocarde.</p>
                            </div>
                            <div class="bg-purple-100 p-4 rounded-lg border-l-4 border-purple-400">
                                <h3 class="font-semibold text-purple-800">⚠️ Points de vigilance & Contre-indications</h3>
                                <ul class="list-disc list-inside text-purple-700 text-sm space-y-1">
                                    <li><strong>Contre-indications :</strong> Bradycardie/hypotension sévère, BAV, insuffisance cardiaque décompensée, asthme et BPCO.</li>
                                    <li><strong>Effets indésirables :</strong> Bradycardie, fatigue, troubles digestifs, impuissance, masquage des signes d'hypoglycémie chez le diabétique.</li>
                                    <li><strong>Ne JAMAIS interrompre brutalement :</strong> Risque d'effet rebond (tachycardie, HTA).</li>
                                    <li><strong>Surveillance :</strong> Pouls, tension artérielle.</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div id="classe3" class="antiarythm-page hidden">
                        <h2 class="text-2xl md:text-3xl font-bold text-red-600">Classe III : Inhibiteurs des canaux potassiques</h2>
                         <div class="space-y-4 mt-4">
                            <div class="bg-red-50 p-4 rounded-lg">
                                <h3 class="font-semibold text-red-800 mb-2">💊 Spécialités</h3>
                                <p class="text-red-700 text-sm">Amiodarone (Cordarone®), Sotalol (Sotalex®)</p>
                            </div>
                            <div class="bg-red-50 p-4 rounded-lg">
                                <h3 class="font-semibold text-red-800">⚙️ Mécanisme d'action</h3>
                                <p class="text-red-700 text-sm">Allongent la durée du potentiel d'action et la période réfractaire en bloquant les canaux potassiques. Cela ralentit la fréquence cardiaque et diminue l'excitabilité myocardique. Allongent l'espace QT.</p>
                            </div>
                            <div class="bg-red-50 p-4 rounded-lg">
                                <h3 class="font-semibold text-red-800">🔬 Indications</h3>
                                <p class="text-red-700 text-sm">Troubles du rythme graves, ventriculaires et supraventriculaires (ex: fibrillation ventriculaire).</p>
                            </div>
                            <div class="bg-red-100 p-4 rounded-lg border-l-4 border-red-400">
                                <h3 class="font-semibold text-red-800">⚠️ Points de vigilance pour l'Amiodarone</h3>
                                <ul class="list-disc list-inside text-red-700 text-sm space-y-1">
                                    <li><strong>Effet pro-arythmogène :</strong> Risque majeur de torsade de pointe.</li>
                                    <li><strong>Troubles thyroïdiens :</strong> Hypo ou hyperthyroïdie (bilan TSH avant et pendant le ttt).</li>
                                    <li><strong>Toxicité pulmonaire :</strong> Pneumopathies.</li>
                                    <li><strong>Toxicité oculaire :</strong> Micro-dépôts cornéens (vision de halos colorés).</li>
                                    <li><strong>Cutanés :</strong> Photosensibilisation (protection solaire indispensable).</li>
                                    <li><strong>Administration IV :</strong> Uniquement dans du sérum glucosé, jamais en IVD (sauf ACR).</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div id="classe4" class="antiarythm-page hidden">
                        <h2 class="text-2xl md:text-3xl font-bold text-green-600">Classe IV : Inhibiteurs calciques</h2>
                         <div class="space-y-4 mt-4">
                            <div class="bg-green-50 p-4 rounded-lg">
                                <h3 class="font-semibold text-green-800 mb-2">💊 Spécialités (à tropisme cardiaque)</h3>
                                <p class="text-green-700 text-sm">Vérapamil (Isoptine®), Diltiazem (Tildiem®)</p>
                            </div>
                            <div class="bg-green-50 p-4 rounded-lg">
                                <h3 class="font-semibold text-green-800">⚙️ Mécanisme d'action</h3>
                                <p class="text-green-700 text-sm">Bloquent l'entrée du calcium dans les cellules cardiaques, ce qui diminue la force de contraction (inotropes négatifs), ralentit la fréquence cardiaque (chronotropes négatifs) et ralentit la conduction auriculo-ventriculaire.</p>
                            </div>
                            <div class="bg-green-50 p-4 rounded-lg">
                                <h3 class="font-semibold text-green-800">🔬 Indications</h3>
                                <p class="text-green-700 text-sm">Traitement et prévention des tachycardies supraventriculaires. Également utilisés dans l'HTA et l'angor.</p>
                            </div>
                            <div class="bg-green-100 p-4 rounded-lg border-l-4 border-green-400">
                                <h3 class="font-semibold text-green-800">⚠️ Points de vigilance</h3>
                                <ul class="list-disc list-inside text-green-700 text-sm space-y-1">
                                     <li><strong>Effets cardiaques :</strong> Bradycardie, hypotension, troubles de la conduction (BAV).</li>
                                     <li><strong>Vasodilatation :</strong> Céphalées, bouffées de chaleur, œdèmes des membres inférieurs.</li>
                                     <li><strong>Troubles digestifs :</strong> Constipation marquée avec le Vérapamil.</li>
                                     <li><strong>Hyperplasie gingivale :</strong> Importance d'une bonne hygiène bucco-dentaire.</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div id="digitaliques" class="antiarythm-page hidden">
                        <h2 class="text-2xl md:text-3xl font-bold text-amber-600">Les Digitaliques</h2>
                        <div class="space-y-4 mt-4">
                             <div class="bg-amber-50 p-4 rounded-lg">
                                <h3 class="font-semibold text-amber-800 mb-2">💊 Spécialité</h3>
                                <p class="text-amber-700 text-sm">Digoxine (Digoxine®, Hemigoxine®)</p>
                            </div>
                            <div class="bg-amber-50 p-4 rounded-lg">
                                <h3 class="font-semibold text-amber-800">⚙️ Mécanisme d'action - La règle des 3 R</h3>
                                <ul class="list-disc list-inside text-amber-700 text-sm space-y-1">
                                    <li><strong>Renforce :</strong> Augmente la force de contraction du cœur (inotropes positifs).</li>
                                    <li><strong>Ralentit :</strong> Diminue la fréquence cardiaque (chronotropes négatifs).</li>
                                    <li><strong>Régularise :</strong> Ralentit la conduction dans le nœud auriculo-ventriculaire.</li>
                                </ul>
                            </div>
                            <div class="bg-amber-50 p-4 rounded-lg">
                                <h3 class="font-semibold text-amber-800">🔬 Indications</h3>
                                <p class="text-amber-700 text-sm">Insuffisance cardiaque, troubles du rythme supra-ventriculaires (fibrillation auriculaire).</p>
                            </div>
                            <div class="bg-amber-100 p-4 rounded-lg border-l-4 border-amber-400">
                                <h3 class="font-semibold text-amber-800">⚠️ Points de vigilance : Marge thérapeutique étroite !</h3>
                                <ul class="list-disc list-inside text-amber-700 text-sm space-y-1">
                                    <li><strong>Risque de surdosage :</strong> L'intervalle entre la dose efficace et la dose toxique est très faible.</li>
                                    <li><strong>Signes d'intoxication :</strong> troubles digestifs (nausées, vomissements), troubles de la vision des couleurs (dyschromatopsie), troubles psy (confusion).</li>
                                    <li><strong>Surveillance biologique :</strong> Kaliémie (l'hypokaliémie majore la toxicité), digoxinémie (après 6 jours de traitement).</li>
                                    <li><strong>ECG :</strong> L'aspect "en cupule" du segment ST est un signe d'imprégnation (normal), pas de surdosage.</li>
                                    <li><strong>Contre-indications :</strong> Calcium IV, Millepertuis.</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div id="quiz-antiarythm" class="antiarythm-page hidden">
                        <div class="bg-gradient-to-br from-slate-50 to-gray-100 p-6 sm:p-8 md:p-10 rounded-2xl shadow-inner">
                            <h2 class="text-3xl md:text-4xl font-extrabold text-slate-800 mb-2">Quiz Interactif</h2>
                            <p class="text-slate-600 mb-8">Testez vos connaissances sur les anti-arythmiques et les digitaliques.</p>
                            
                            <div id="qcm-container-antiarythm" class="space-y-8">
                                </div>

                            <div id="quiz-footer-antiarythm" class="mt-10 pt-6 border-t-2 border-slate-200 flex justify-between items-center">
                                <p id="quiz-score-antiarythm" class="text-xl md:text-2xl font-bold text-slate-800"></p>
                                <button id="reset-button-antiarythm" class="bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white font-semibold py-3 px-6 rounded-xl shadow-lg hover:scale-105 hover:shadow-xl transition-all duration-200 transform opacity-0 pointer-events-none">
                                    Recommencer
                                </button>
                            </div>
                        </div>
                    </div>

                    <div id="synthese" class="antiarythm-page hidden">
                        <h2 class="text-2xl md:text-3xl font-bold text-gray-700">Tableau de Synthèse</h2>
                        <div class="mt-4 overflow-x-auto">
                            <table class="w-full text-sm text-left shadow-md rounded-lg">
                                <thead class="bg-gray-700 text-white">
                                    <tr>
                                        <th class="p-3">Classe</th>
                                        <th class="p-3">Mécanisme Principal</th>
                                        <th class="p-3">Exemple Clé</th>
                                        <th class="p-3">Vigilance Majeure</th>
                                    </tr>
                                </thead>
                                <tbody class="text-gray-800">
                                    <tr class="bg-rose-50 border-b"><td class="p-3 font-semibold">Classe I</td><td class="p-3">Blocage canaux Na+</td><td class="p-3">Flécaïnide (Flecaïne®)</td><td class="p-3">Effet pro-arythmogène</td></tr>
                                    <tr class="bg-purple-50 border-b"><td class="p-3 font-semibold">Classe II</td><td class="p-3">Bêta-bloquant</td><td class="p-3">Métoprolol</td><td class="p-3">Ne jamais arrêter brutalement, CI (asthme, BAV)</td></tr>
                                    <tr class="bg-red-50 border-b"><td class="p-3 font-semibold">Classe III</td><td class="p-3">Blocage canaux K+</td><td class="p-3">Amiodarone (Cordarone®)</td><td class="p-3">Toxicité multiple (thyroïde, poumon, peau), torsades de pointes</td></tr>
                                    <tr class="bg-green-50 border-b"><td class="p-3 font-semibold">Classe IV</td><td class="p-3">Blocage canaux Ca2+</td><td class="p-3">Vérapamil (Isoptine®)</td><td class="p-3">Bradycardie, BAV, constipation</td></tr>
                                    <tr class="bg-amber-50"><td class="p-3 font-semibold">Digitaliques</td><td class="p-3">Inotrope +, Chronotrope -</td><td class="p-3">Digoxine</td><td class="p-3">Marge thérapeutique étroite, surveillance kaliémie & digoxinémie</td></tr>
                                </tbody>
                            </table>
                        </div>
                         <div class="bg-slate-50 p-4 rounded-lg mt-8">
                                <h3 class="font-semibold text-slate-800 mb-2">📊 Comparaison des Classes d'Anti-arythmiques</h3>
                                <div class="flex justify-center items-center">
                                    <div class="w-full md:w-3/4 lg:w-1/2">
                                        <canvas id="aarChart"></canvas>
                                    </div>
                                </div>
                            </div>
                    </div>
                </div>
                <div id="module-antidiabetiques" class="module-page hidden">
                    <h2 class="text-3xl font-bold text-slate-800 mb-4">Anti-diabétiques</h2>
                    <p class="text-slate-600">Contenu sur les anti-diabétiques à venir...</p>
                </div>
                <div id="module-hypolipemiants" class="module-page hidden">
                    <h2 class="text-3xl font-bold text-slate-800 mb-4">Hypolipémiants</h2>
                    <p class="text-slate-600">Contenu sur les hypolipémiants à venir...</p>
                </div>
                <div id="module-asthme" class="module-page hidden">
                    <h2 class="text-3xl font-bold text-slate-800 mb-4">Antiasthmatiques & Antihistaminiques</h2>
                    <p class="text-slate-600">Contenu sur les antiasthmatiques à venir...</p>
                </div>
                <div id="module-digestif" class="module-page hidden">
                    <h2 class="text-3xl font-bold text-slate-800 mb-4">Thérapeutiques Digestives</h2>
                    <p class="text-slate-600">Contenu sur les thérapeutiques digestives à venir...</p>
                </div>
                 <div id="module-anticancer" class="module-page hidden">
                    <h2 class="text-3xl font-bold text-slate-800 mb-4">Traitements anticancéreux</h2>
                    <p class="text-slate-600">Contenu sur les traitements anticancéreux à venir...</p>
                </div>

            </main>
        </div>
        
        <!-- Footer (Replicating Header Style) -->
        <footer id="footer" class="bg-slate-800 text-white p-4 md:p-6 mt-auto rounded-b-xl shadow-inner">
            <div class="max-w-7xl mx-auto flex items-center justify-center text-center">
                <!-- Mobile/Tablet & Desktop Author Info (Footer) -->
                <p class="font-bold text-slate-300 text-xs sm:text-sm">
                <span class="bg-gradient-to-r from-sky-400 via-violet-500 to-pink-500 bg-clip-text text-transparent">Lucas Séraudie</span> - 2025
                </p>
            </div>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- Feather Icons Initialization ---
            feather.replace();

            // --- Sidebar and Main Navigation Logic ---
            const mainContent = document.getElementById('main-content');
            const mainTitle = document.getElementById('main-title');
            const sidebar = document.getElementById('sidebar');
            const menuToggle = document.getElementById('menu-toggle');
            const modulePages = document.querySelectorAll('.module-page');
            const navLinks = document.querySelectorAll('.nav-link, .module-card');
            
            const originalTitleHTML = mainTitle.innerHTML;
            const originalTitleClassName = mainTitle.className;
            let antalgiquesModuleInitialized = false;
            let antiarythmModuleInitialized = false;
            let anticoModuleInitialized = false;

            const moduleTitleColors = {
                antalgiques: 'from-cyan-400 to-blue-500',
                antiinflam: 'from-purple-400 to-pink-500',
                antico: 'from-red-500 to-orange-500',
                antihta: 'from-emerald-500 to-green-600',
                antiarythm: 'from-pink-400 to-rose-500',
                antidiabetiques: 'from-purple-400 to-violet-500',
                hypolipemiants: 'from-teal-500 to-cyan-600',
                asthme: 'from-fuchsia-600 to-purple-700',
                digestif: 'from-lime-500 to-green-600',
                anticancer: 'from-blue-500 to-blue-700'
            };

            // Function to show a specific main page/module
            const showPage = (pageId) => {
                const cleanPageId = pageId.startsWith('#') ? pageId.substring(1) : pageId;
                
                modulePages.forEach(page => {
                    if (page.id === `module-${cleanPageId}`) {
                        page.classList.remove('hidden');
                    } else {
                        page.classList.add('hidden');
                    }
                });

                // Update main title
                const activeLink = document.querySelector(`.nav-link[href="#${cleanPageId}"], .module-card[href="#${cleanPageId}"]`);
                if (activeLink && cleanPageId !== 'accueil') {
                    const titleText = activeLink.querySelector('h3')?.textContent || activeLink.textContent.trim();
                    mainTitle.innerHTML = ''; // Clear content
                    mainTitle.textContent = titleText;
                    
                    const gradientColors = moduleTitleColors[cleanPageId];
                    if (gradientColors) {
                        mainTitle.className = `text-xl sm:text-2xl md:text-3xl lg:text-4xl font-black tracking-tight bg-gradient-to-r ${gradientColors} bg-clip-text text-transparent pb-2`;
                    } else {
                        // Fallback for modules without a defined color
                        mainTitle.className = "text-xl sm:text-2xl md:text-3xl lg:text-4xl font-black tracking-tight text-white pb-2"; 
                    }
                } else {
                     mainTitle.innerHTML = originalTitleHTML;
                     mainTitle.className = originalTitleClassName;
                }

                // Scroll main content to top
                mainContent.scrollTop = 0;

                 // Update active link in sidebar
                document.querySelectorAll('.nav-link').forEach(link => {
                    link.classList.remove('bg-indigo-100', 'text-indigo-700', 'font-semibold');
                    if (link.getAttribute('href') === `#${cleanPageId}`) {
                         link.classList.add('bg-indigo-100', 'text-indigo-700', 'font-semibold');
                    }
                });
                
                // Close sidebar on mobile after navigation
                if (window.innerWidth < 768) {
                    sidebar.classList.add('-translate-x-full');
                }

                // --- Initialize modules if they are being shown for the first time ---
                if (cleanPageId === 'antalgiques' && !antalgiquesModuleInitialized) {
                    initializeAntalgiquesModule();
                }
                if (cleanPageId === 'antiarythm' && !antiarythmModuleInitialized) {
                    initializeAntiarythmiquesModule();
                }
                if (cleanPageId === 'antico' && !anticoModuleInitialized) {
                    initializeAnticoModule();
                }
            };
            
            // Event listener for all navigation links (sidebar and cards)
            navLinks.forEach(link => {
                link.addEventListener('click', (event) => {
                    event.preventDefault();
                    const targetId = link.getAttribute('href');
                    history.pushState(null, '', targetId); // Update URL without reloading
                    showPage(targetId);
                });
            });

            // Handle browser back/forward buttons
            window.addEventListener('popstate', () => {
                showPage(window.location.hash || '#accueil');
            });

            // Show initial page based on URL hash or default to home
            showPage(window.location.hash || '#accueil');
            
            // --- Mobile Sidebar Toggle ---
            menuToggle.addEventListener('click', () => {
                sidebar.classList.toggle('-translate-x-full');
            });
            
             // --- Close sidebar when clicking outside on mobile ---
             document.addEventListener('click', (event) => {
                const isClickInsideSidebar = sidebar.contains(event.target);
                const isClickOnMenuToggle = menuToggle.contains(event.target);
                if (!isClickInsideSidebar && !isClickOnMenuToggle && window.innerWidth < 768) {
                    sidebar.classList.add('-translate-x-full');
                }
            });

            // --- ANTALGIQUES MODULE SPECIFIC LOGIC ---

            const antalgiquesQuizData = [
            {
                question: "Quel est l'antidote du paracétamol en cas de surdosage ?",
                options: ["Naloxone", "N-acétylcystéine", "Sulfate de protamine", "Vitamine K"],
                correct: 1,
                feedback: "La N-acétylcystéine est l'antidote spécifique pour l'hépatotoxicité induite par un surdosage de paracétamol."
            },
            {
                question: "Quel est le risque principal associé à la prise d'Anti-Inflammatoires Non Stéroïdiens (AINS) ?",
                options: ["Hépatotoxicité", "Dépression respiratoire", "Lésions gastro-intestinales", "Syndrome sérotoninergique"],
                correct: 2,
                feedback: "Les AINS inhibent les prostaglandines qui protègent la muqueuse gastrique, augmentant le risque d'ulcères et d'hémorragies digestives."
            },
            {
                question: "La codéine est une pro-drogue. En quelle substance active est-elle métabolisée dans le corps ?",
                options: ["Tramadol", "Morphine", "Fentanyl", "Oxycodone"],
                correct: 1,
                feedback: "La codéine est métabolisée en morphine par le foie, ce qui lui confère son effet analgésique."
            },
            {
                question: "Quel opioïde fort est connu pour être environ 100 fois plus puissant que la morphine ?",
                options: ["Tramadol", "Néfopam", "Fentanyl", "Oxycodone"],
                correct: 2,
                feedback: "Le fentanyl est un opioïde de synthèse extrêmement puissant, utilisé pour les douleurs intenses."
            },
            {
                question: "Quelle est la contre-indication absolue commune à tous les opioïdes forts ?",
                options: ["Hypertension artérielle", "Insuffisance respiratoire sévère", "Diabète", "Allergie au paracétamol"],
                correct: 1,
                feedback: "Les opioïdes peuvent provoquer une dépression respiratoire, leur usage est donc contre-indiqué en cas d'insuffisance respiratoire sévère."
            },
            {
                question: "Quel est l'antidote universel pour les surdosages aux opioïdes (morphine, fentanyl, etc.) ?",
                options: ["N-acétylcystéine", "Charbon activé", "Adrénaline", "Naloxone"],
                correct: 3,
                feedback: "La naloxone (Narcan®) est un antagoniste des récepteurs opioïdes qui inverse rapidement leurs effets, notamment la dépression respiratoire."
            },
            {
                question: "Pour quel type de douleur les co-analgésiques comme la gabapentine (Neurontin®) sont-ils principalement utilisés ?",
                options: ["Douleurs nociceptives", "Douleurs neuropathiques", "Douleurs post-opératoires aiguës", "Céphalées de tension"],
                correct: 1,
                feedback: "Les antiépileptiques comme la gabapentine sont particulièrement efficaces pour les douleurs liées à une lésion du système nerveux (neuropathiques)."
            },
            {
                question: "Quel est le délai d'action d'un patch transdermique de Fentanyl pour atteindre son efficacité optimale ?",
                options: ["5-10 minutes", "1 heure", "12-24 heures", "72 heures"],
                correct: 2,
                feedback: "La diffusion transdermique est lente. L'effet optimal n'est atteint qu'après 12 à 24 heures, ce qui le réserve aux douleurs chroniques stables."
            },
            {
                question: "Quelle est la posologie maximale journalière de paracétamol pour un adulte sans insuffisance hépatique ?",
                options: ["2 g/jour", "3 g/jour", "4 g/jour", "6 g/jour"],
                correct: 2,
                feedback: "La dose maximale est de 4g par jour, généralement répartie en 4 prises de 1g espacées d'au moins 4 à 6 heures."
            },
            {
                question: "Le tramadol (Topalgic®) a un double mécanisme d'action. Lequel ?",
                options: ["Agoniste opioïde et AINS", "Agoniste opioïde et inhibiteur de la recapture de la sérotonine/noradrénaline", "Antagoniste opioïde et antipyrétique", "AINS et anxiolytique"],
                correct: 1,
                feedback: "Le tramadol agit sur les récepteurs µ-opioïdes et inhibe la recapture de neurotransmetteurs, ce qui le rend utile pour certaines douleurs neuropathiques."
            },
            {
                question: "L'Acupan® (Néfopam) est contre-indiqué en cas de :",
                options: ["Asthme", "Hypertension", "Diabète", "Épilepsie"],
                correct: 3,
                feedback: "Le Néfopam peut abaisser le seuil épileptogène, il est donc contre-indiqué chez les patients épileptiques."
            },
            {
                question: "Quel effet secondaire est quasi systématique avec les traitements opioïdes au long cours et doit être anticipé ?",
                options: ["La diarrhée", "La constipation", "Les hallucinations", "La tachycardie"],
                correct: 1,
                feedback: "Les opioïdes ralentissent le transit intestinal, provoquant une constipation qui nécessite souvent un traitement laxatif préventif."
            },
            {
                question: "L'échelle EVS pour évaluer la douleur est une échelle...",
                options: ["Verbale Simple (avec des mots)", "Numérique (de 0 à 10)", "Visuelle Analogique (avec un curseur)", "Comportementale"],
                correct: 0,
                feedback: "L'EVS (Échelle Verbale Simple) propose au patient de choisir des mots pour qualifier sa douleur (absente, faible, modérée, intense)."
            },
            {
                question: "L'amitriptyline (Laroxyl®) est un co-analgésique appartenant à quelle classe de médicaments ?",
                options: ["Antiépileptiques", "Antidépresseurs", "AINS", "Anxiolytiques"],
                correct: 1,
                feedback: "L'amitriptyline est un antidépresseur tricyclique utilisé à plus faible dose pour son effet sur les douleurs chroniques, notamment neuropathiques."
            },
            {
                question: "Quel est le principal avantage de l'oxycodone à libération immédiate (Oxynorm®) par rapport à sa forme à libération prolongée (Oxycontin®) ?",
                options: ["Moins d'effets secondaires", "Un délai d'action plus rapide", "Une durée d'action de 24h", "Pas de risque de dépendance"],
                correct: 1,
                feedback: "La forme à libération immédiate (LI) agit rapidement (15-30 min) et est utilisée pour les pics douloureux (interdoses)."
            },
            {
                question: "Selon l'OMS, quelle voie d'administration doit être privilégiée pour les antalgiques ?",
                options: ["La voie intraveineuse (IV)", "La voie intramusculaire (IM)", "La voie per os (PO)", "La voie sous-cutanée (SC)"],
                correct: 2,
                feedback: "La voie orale (Per Os) est la plus simple, la moins invasive et la plus confortable pour le patient."
            },
            {
                question: "Une douleur décrite comme une 'brûlure' ou des 'chocs électriques' est typique d'une douleur...",
                options: ["Nociceptive", "Neuropathique", "Nociplastique", "Aiguë"],
                correct: 1,
                feedback: "Ces descriptions sont caractéristiques d'une atteinte du système nerveux, donc d'une douleur neuropathique."
            },
            {
                question: "Parmi ces médicaments, lequel n'est PAS un opioïde ?",
                options: ["Codéine", "Néfopam", "Morphine", "Tramadol"],
                correct: 1,
                feedback: "Le Néfopam (Acupan®) est un antalgique central non opioïde."
            },
            {
                question: "Quel est le délai d'action approximatif du paracétamol administré par voie intraveineuse pour son effet antalgique ?",
                options: ["Immédiat", "5 minutes", "30 minutes", "1 heure (pic d'efficacité)"],
                correct: 3,
                feedback: "Le pic d'efficacité antalgique du paracétamol IV est atteint en environ 1 heure. L'effet sur la fièvre est plus rapide (30 min)."
            },
            {
                question: "L'un des '5 principes' de l'OMS pour l'administration des antalgiques est 'l'individualisation'. Qu'est-ce que cela signifie ?",
                options: ["Donner le même traitement à tout le monde", "Adapter le traitement à chaque patient", "Utiliser uniquement des co-analgésiques", "Commencer toujours par un opioïde fort"],
                correct: 1,
                feedback: "L'individualisation consiste à adapter le choix de la molécule, la posologie et la voie d'administration en fonction du patient, de sa douleur et de sa tolérance."
            }
            ];

            const antalgiquesSubPages = ['douleur', 'nonopioides', 'opioidesfaibles', 'opioidesforts', 'coanalgesiques', 'role', 'quiz'];
            const antalgiquesButtonColors = {
                douleur: 'bg-gradient-to-r from-cyan-400 to-blue-500 text-white shadow-md',
                nonopioides: 'bg-gradient-to-r from-green-500 to-emerald-600 text-white shadow-md',
                opioidesfaibles: 'bg-gradient-to-r from-amber-500 to-yellow-500 text-white shadow-md',
                opioidesforts: 'bg-gradient-to-r from-red-500 to-orange-500 text-white shadow-md',
                coanalgesiques: 'bg-gradient-to-r from-purple-500 to-indigo-600 text-white shadow-md',
                role: 'bg-gradient-to-r from-pink-500 to-rose-600 text-white shadow-md',
                quiz: 'bg-gradient-to-r from-slate-500 to-gray-700 text-white shadow-md'
            };

            function showAntalgiquesSubPage(pageId) {
                document.querySelectorAll('.antalgiques-page').forEach(page => page.classList.add('hidden'));
                const activePage = document.getElementById(pageId);
                if (activePage) activePage.classList.remove('hidden');
                
                const navButtons = document.querySelectorAll('.antalgiques-nav-btn');
                navButtons.forEach(btn => {
                    const page = btn.dataset.page;
                    btn.className = 'antalgiques-nav-btn w-full py-3 px-2 rounded-lg text-slate-800 font-semibold transition-all duration-300 text-xs sm:text-sm';
                    btn.classList.add(`hover:bg-${page === 'douleur' ? 'cyan' : page === 'nonopioides' ? 'green' : 'gray'}-100`);
                    if (page === pageId) {
                        btn.classList.add(...antalgiquesButtonColors[page].split(' '));
                    }
                });
            }

            function renderAntalgiquesQuiz() {
                const container = document.getElementById('qcm-container-antalgiques');
                if (!container) return;
                container.innerHTML = '';
                antalgiquesQuizData.forEach((item, index) => {
                    const optionsHtml = item.options.map((option, optionIndex) => 
                        `<button class="qcm-option w-full text-left p-4 rounded-xl bg-white border-2 border-slate-200 hover:bg-slate-100 hover:border-slate-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-200" data-index="${optionIndex}">${option}</button>`
                    ).join('');
                    container.innerHTML += `<div class="qcm-question bg-slate-100/70 border border-slate-200/80 p-6 rounded-2xl shadow-lg" data-question-index="${index}"><p class="font-semibold text-lg text-slate-800 mb-4">${index + 1}. ${item.question}</p><div class="grid grid-cols-1 sm:grid-cols-2 gap-3">${optionsHtml}</div><div class="qcm-feedback mt-4 text-sm font-medium"></div></div>`;
                });
                document.getElementById('quiz-score-antalgiques').textContent = `Prêt ? 0 / ${antalgiquesQuizData.length}`;
                const resetButton = document.getElementById('reset-button-antalgiques');
                resetButton.classList.add('opacity-0', 'pointer-events-none');
            }

            function setupAntalgiquesQuizListeners() {
                const container = document.getElementById('qcm-container-antalgiques');
                if (!container) return;
                container.addEventListener('click', (event) => {
                    if (!event.target.classList.contains('qcm-option')) return;
                    const optionButton = event.target;
                    const questionEl = optionButton.closest('.qcm-question');
                    if (!questionEl || questionEl.classList.contains('answered')) return;
                    questionEl.classList.add('answered');
                    const questionIndex = parseInt(questionEl.dataset.questionIndex, 10);
                    const questionData = antalgiquesQuizData[questionIndex];
                    const selectedIndex = parseInt(optionButton.dataset.index, 10);
                    const isCorrect = selectedIndex === questionData.correct;
                    const feedbackEl = questionEl.querySelector('.qcm-feedback');
                    if (isCorrect) {
                        optionButton.classList.add('correct');
                        feedbackEl.innerHTML = `<div class="text-emerald-700 p-3 bg-emerald-100 rounded-lg"><b class="font-bold">Bravo !</b> ${questionData.feedback || ''}</div>`;
                    } else {
                        optionButton.classList.add('incorrect');
                        const correctButton = questionEl.querySelector(`[data-index="${questionData.correct}"]`);
                        correctButton.classList.add('correct');
                        feedbackEl.innerHTML = `<div class="text-red-700 p-3 bg-red-100 rounded-lg"><b class="font-bold">Dommage.</b> ${questionData.feedback || ''}</div>`;
                    }
                    questionEl.querySelectorAll('.qcm-option').forEach(btn => { btn.disabled = true; });
                    updateAntalgiquesScore();
                });
            }

            function updateAntalgiquesScore() {
                const totalQuestions = antalgiquesQuizData.length;
                let score = 0;
                document.querySelectorAll('#qcm-container-antalgiques .qcm-question.answered').forEach(questionEl => {
                    if (questionEl.querySelector('.qcm-option.correct:not(.incorrect)')) { // Only count the user's correct choice
                         const correctButton = questionEl.querySelector('.qcm-option.correct');
                         if(!correctButton.classList.contains('incorrect')){
                             const selectedButton = questionEl.querySelector('.qcm-option:disabled');
                              if(selectedButton && selectedButton.classList.contains('correct')){
                                score++;
                              }
                         }
                    }
                });
                 const answeredCount = document.querySelectorAll('#qcm-container-antalgiques .qcm-question.answered').length;

                const scoreEl = document.getElementById('quiz-score-antalgiques');
                scoreEl.textContent = `Votre score : ${score} / ${answeredCount}`;

                if (answeredCount === totalQuestions) {
                    scoreEl.textContent = `Score final : ${score} / ${totalQuestions}`;
                    const percentage = (score / totalQuestions) * 100;
                    if (percentage >= 80) { scoreEl.textContent += " - Excellent travail ! 🎉"; } 
                    else if (percentage >= 50) { scoreEl.textContent += " - Pas mal, continuez à réviser ! 💪"; } 
                    else { scoreEl.textContent += " - Encore un effort ! 📚"; }
                    document.getElementById('reset-button-antalgiques').classList.remove('opacity-0', 'pointer-events-none');
                }
            }


            function resetAntalgiquesQuiz() { renderAntalgiquesQuiz(); }

            function initializeAntalgiquesModule() {
                antalgiquesModuleInitialized = true;
                lucide.createIcons();
                showAntalgiquesSubPage('douleur');
                renderAntalgiquesQuiz();
                setupAntalgiquesQuizListeners();

                document.querySelectorAll('.antalgiques-nav-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        e.preventDefault();
                        showAntalgiquesSubPage(btn.dataset.page);
                    });
                });
                document.getElementById('reset-button-antalgiques').addEventListener('click', resetAntalgiquesQuiz);
            }

             // --- ANTIARYTHMIQUES MODULE SPECIFIC LOGIC ---
             const antiarythmQuizData = [
                { 
                    question: "Quelle action infirmière est PRIORITAIRE avant l'administration orale d'un Bêta-bloquant (Classe II) ?", 
                    options: ["Contrôler la fréquence cardiaque et la tension artérielle", "Vérifier la dernière selle du patient", "Prendre la glycémie capillaire", "Vérifier la couleur des urines"], 
                    correct: 0, 
                    feedback: "Les Bêta-bloquants sont bradycardisants et hypotenseurs. L'infirmier(ère) doit toujours vérifier que la fréquence cardiaque est supérieure à 50 battements/min et la TA est acceptable avant l'administration." 
                },
                { 
                    question: "Un patient sous Amiodarone (Cordarone®, Classe III) se plaint d'une photosensibilité importante. Quel conseil infirmier doit-on lui donner ?", 
                    options: ["Arrêter immédiatement le traitement", "Prendre l'Amiodarone le soir au coucher", "Utiliser une protection solaire importante", "Boire plus d'eau pour éliminer le produit"], 
                    correct: 2, 
                    feedback: "L'Amiodarone est très photosensibilisante et expose à des brûlures graves. La protection solaire doit être rigoureuse et maintenue pendant plusieurs mois après l'arrêt du traitement." 
                },
                { 
                    question: "Quel résultat biologique (ionogramme) majore le risque de toxicité des digitaliques et des anti-arythmiques de Classe Ia et III (pro-arythmogènes) ?", 
                    options: ["Hypernatrémie", "Hypokaliémie", "Hypercalcémie", "Hypermagnésémie"], 
                    correct: 1, 
                    feedback: "L'hypokaliémie (taux de potassium bas) potentialise l'effet de ces médicaments et augmente significativement le risque d'arythmies graves, notamment les torsades de pointes." 
                },
                { 
                    question: "Un patient sous Bêta-bloquant doit subir une intervention chirurgicale. Quelle est l'attitude recommandée par rapport au traitement dans la majorité des cas ?", 
                    options: ["L'arrêter brutalement 48h avant l'intervention", "Le remplacer par une dose plus faible d'un inhibiteur calcique", "Le maintenir jusqu'à l'intervention", "L'arrêter progressivement sur une semaine"], 
                    correct: 2, 
                    feedback: "Il est crucial de ne pas interrompre brutalement un Bêta-bloquant pour éviter l'effet rebond. Le traitement est généralement maintenu jusqu'à l'intervention, en étroite collaboration avec l'équipe chirurgicale et l'anesthésiste." 
                },
                { 
                    question: "Quelle intervention infirmière est associée à la prévention des œdèmes des membres inférieurs chez un patient sous inhibiteur calcique (Classe IV, comme le Diltiazem) ?", 
                    options: ["Limitation des apports en sel", "Élévation des jambes et port de bas de contention si prescrits", "Administration de diurétiques même sans prescription", "Massage énergique des jambes"], 
                    correct: 1, 
                    feedback: "Les œdèmes sont liés à la vasodilatation artérielle périphérique. L'élévation des membres et le port de bas de contention (si prescrits) sont des mesures physiques adaptées pour faciliter le retour veineux." 
                },
                { 
                    question: "Un patient sous Bêta-bloquant se plaint de palpitations et d'une fatigue inhabituelle. Quelle complication cardiaque majeure doit-on redouter en priorité ?", 
                    options: ["Une hypotension artérielle sévère", "Une hypokaliémie", "Un trouble de la coagulation", "Une insuffisance cardiaque ou une bradycardie excessive"], 
                    correct: 3, 
                    feedback: "Les Bêta-bloquants réduisent la contractilité du cœur (inotropes négatifs). La fatigue, la dyspnée et les palpitations peuvent être des signes d'insuffisance cardiaque ou d'une bradycardie mal tolérée." 
                },
                { 
                    question: "Lorsqu'un patient sous Digoxine signale une 'vision de halos colorés' (dyschromatopsie), quelle est l'action infirmière IMMÉDIATE ?", 
                    options: ["Rassurer le patient, c'est un effet secondaire normal", "Administrer un collyre sur prescription", "Alerter le médecin, cela signe une intoxication digitalique", "Doubler la dose de Digoxine pour améliorer l'efficacité, sur prescription"], 
                    correct: 2, 
                    feedback: "La dyschromatopsie est un signe classique et tardif d'intoxication digitalique. L'infirmier(ère) doit alerter le médecin pour un éventuel dosage de la digoxinémie et un ajustement/arrêt du traitement." 
                },
                { 
                    question: "Un patient asthmatique présente une arythmie nécessitant un traitement. Quel anti-arythmique de Classe II est strictement contre-indiqué chez ce patient ?", 
                    options: ["Bisoprolol", "Vérapamil", "Digoxine", "Flécaïnide"], 
                    correct: 0, 
                    feedback: "Le Bisoprolol (et les autres Bêta-bloquants) est contre-indiqué chez l'asthmatique car il peut provoquer un bronchospasme par blocage des récepteurs β₂ bronchiques." 
                },
                { 
                    question: "Quelle est la signification de la Règle des 3R des digitaliques ?", 
                    options: ["Régularise, Réduit, Remplace", "Ralenti, Rigidifie, Retourne", "Remplace, Retourne, Ralenti", "Régularise, Renforce, Ralenti"], 
                    correct: 3, 
                    feedback: "Renforce : Augmente la force de contraction du cœur (inotropes positifs). Ralentit : Diminue la fréquence cardiaque (chronotropes négatifs). Régularise : Ralentit la conduction dans le nœud auriculo-ventriculaire." 
                }
            ];

            function showAntiarythmSubPage(pageId) {
                document.querySelectorAll('.antiarythm-page').forEach(page => page.classList.add('hidden'));
                const activePage = document.getElementById(pageId);
                if (activePage) activePage.classList.remove('hidden');
                
                const gradients = {
                    classe1: ['from-red-500', 'to-rose-600'],
                    classe2: ['from-purple-500', 'to-indigo-600'],
                    classe3: ['from-red-500', 'to-orange-500'],
                    classe4: ['from-green-500', 'to-emerald-600'],
                    digitaliques: ['from-amber-500', 'to-yellow-500'],
                    'quiz-antiarythm': ['from-slate-500', 'to-gray-700'],
                    synthese: ['from-gray-400', 'to-gray-600'],
                };

                const allGradientClasses = Object.values(gradients).flat();

                document.querySelectorAll('.antiarythm-nav-btn').forEach(btn => {
                    const btnPageId = btn.dataset.page;
                    
                    btn.classList.remove('bg-gradient-to-r', 'text-white', 'shadow-md', ...allGradientClasses);
                    btn.classList.add('text-slate-800');

                    if (btnPageId === pageId) {
                        btn.classList.add('bg-gradient-to-r', 'text-white', 'shadow-md', ...(gradients[pageId] || []));
                        btn.classList.remove('text-slate-800');
                    }
                });
            }

            function createAARChart() {
                const canvas = document.getElementById('aarChart');
                if (!canvas || canvas.chart) return; 

                const chartData = {
                    labels: ['Ralentissement FC', 'Effet Inotrope', 'Ralentissement Conduction AV', 'Risque Pro-arythmogène', 'Effets Extra-Cardiaques'],
                    datasets: [
                        { label: 'Classe I (Flécaïnide)', data: [3, 2, 5, 5, 1], borderColor: 'rgb(244, 63, 94)', backgroundColor: 'rgba(244, 63, 94, 0.2)' }, 
                        { label: 'Classe II (BB)', data: [5, 2, 4, 2, 4], borderColor: 'rgb(139, 92, 246)', backgroundColor: 'rgba(139, 92, 246, 0.2)' },
                        { label: 'Classe III (Amiodarone)', data: [4, 1, 3, 4, 5], borderColor: 'rgb(239, 68, 68)', backgroundColor: 'rgba(239, 68, 68, 0.2)' },
                        { label: 'Classe IV (Vérapamil)', data: [4, 2, 5, 2, 3], borderColor: 'rgb(34, 197, 94)', backgroundColor: 'rgba(34, 197, 94, 0.2)' },
                        { label: 'Digitaliques (Digoxine)', data: [5, 5, 4, 3, 4], borderColor: 'rgb(245, 158, 11)', backgroundColor: 'rgba(245, 158, 11, 0.2)' }
                    ]
                };
                const chartOptions = { 
                    scales: { r: { suggestedMin: 0, suggestedMax: 5, ticks: { stepSize: 1 }, pointLabels: { font: { size: 10 } } } }, 
                    plugins: { legend: { position: 'top' } } 
                };
                canvas.chart = new Chart(canvas.getContext('2d'), { type: 'radar', data: chartData, options: chartOptions });
            }

            function renderAntiarythmQuiz() {
                const container = document.getElementById('qcm-container-antiarythm');
                if (!container) return;
                container.innerHTML = '';
                antiarythmQuizData.forEach((item, index) => {
                    const optionsHtml = item.options.map((option, optionIndex) => 
                        `<button class="qcm-option w-full text-left p-4 rounded-xl bg-white border-2 border-slate-200 hover:bg-slate-100 hover:border-slate-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-200" data-index="${optionIndex}">${option}</button>`
                    ).join('');

                    container.innerHTML += `
                        <div class="qcm-question bg-slate-100/70 border border-slate-200/80 p-6 rounded-2xl shadow-lg" data-question-index="${index}">
                            <p class="font-semibold text-lg text-slate-800 mb-4">${index + 1}. ${item.question}</p>
                            <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">${optionsHtml}</div>
                            <div class="qcm-feedback mt-4 text-sm font-medium"></div>
                        </div>`;
                });
                document.getElementById('quiz-score-antiarythm').textContent = `Prêt ? 0 / ${antiarythmQuizData.length}`;
                const resetButton = document.getElementById('reset-button-antiarythm');
                resetButton.classList.add('opacity-0', 'pointer-events-none');
            }

            function setupAntiarythmQuizListeners() {
                const container = document.getElementById('qcm-container-antiarythm');
                if (!container) return;
                container.addEventListener('click', (event) => {
                    if (!event.target.classList.contains('qcm-option')) return;
                    
                    const optionButton = event.target;
                    const questionEl = optionButton.closest('.qcm-question');
                    if (!questionEl || questionEl.classList.contains('answered')) return;
                    
                    questionEl.classList.add('answered');
                    const questionIndex = parseInt(questionEl.dataset.questionIndex, 10);
                    const questionData = antiarythmQuizData[questionIndex];
                    const selectedIndex = parseInt(optionButton.dataset.index, 10);
                    const isCorrect = selectedIndex === questionData.correct;
                    const feedbackEl = questionEl.querySelector('.qcm-feedback');

                    if (isCorrect) {
                        optionButton.classList.add('correct');
                        feedbackEl.innerHTML = `<p class="text-emerald-600">🎉 Bravo ! ${questionData.feedback || ''}</p>`;
                    } else {
                        optionButton.classList.add('incorrect');
                        const correctButton = questionEl.querySelector(`[data-index="${questionData.correct}"]`);
                        correctButton.classList.add('correct');
                        feedbackEl.innerHTML = `<p class="text-red-600">Dommage. ${questionData.feedback || ''}</p>`;
                    }
                    
                    questionEl.querySelectorAll('.qcm-option').forEach(btn => btn.disabled = true);
                    updateAntiarythmScore();
                });
            }

            function updateAntiarythmScore() {
                const totalQuestions = antiarythmQuizData.length;
                 let score = 0;
                 document.querySelectorAll('#qcm-container-antiarythm .qcm-question.answered').forEach(questionEl => {
                    const correctButton = questionEl.querySelector('.qcm-option.correct');
                    if(correctButton && !correctButton.classList.contains('incorrect')){
                         score++;
                    }
                 });
                const answeredCount = document.querySelectorAll('#qcm-container-antiarythm .qcm-question.answered').length;
                const scoreEl = document.getElementById('quiz-score-antiarythm');

                 scoreEl.textContent = `Votre score : ${score} / ${answeredCount}`;
                if (answeredCount === totalQuestions) {
                    scoreEl.textContent = `Score final : ${score} / ${totalQuestions}`;
                    const percentage = (score / totalQuestions) * 100;
                    if (percentage >= 80) { scoreEl.textContent += " - Excellent travail ! 🎉"; } 
                    else if (percentage >= 50) { scoreEl.textContent += " - Pas mal, continuez à réviser ! 💪"; } 
                    else { scoreEl.textContent += " - Encore un effort ! 📚"; }
                    document.getElementById('reset-button-antiarythm').classList.remove('opacity-0', 'pointer-events-none');
                 }
            }

            function resetAntiarythmQuiz() { renderAntiarythmQuiz(); }

            function initializeAntiarythmiquesModule() {
                antiarythmModuleInitialized = true;
                lucide.createIcons();
                showAntiarythmSubPage('classe1');
                createAARChart();
                renderAntiarythmQuiz();
                setupAntiarythmQuizListeners();

                document.querySelectorAll('.antiarythm-nav-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        e.preventDefault();
                        showAntiarythmSubPage(btn.dataset.page);
                    });
                });
                document.getElementById('reset-button-antiarythm').addEventListener('click', resetAntiarythmQuiz);
            }

            // --- ANTICOAGULANTS MODULE SPECIFIC LOGIC ---
            const anticoQuizData = [
                {
                    question: "Quel est l'objectif principal des traitements anticoagulants ?",
                    options: ["Arrêter les hémorragies", "Réduire les risques thrombotiques", "Produire des globules rouges", "Augmenter le flux sanguin"],
                    correct: 1,
                    feedback: "Les anticoagulants préviennent la formation de caillots (thrombus) mais ne traitent pas les hémorragies."
                },
                {
                    question: "Quelle est la principale complication des traitements anticoagulants ?",
                    options: ["La dyspnée", "L'infection", "L'hémorragie", "L'allergie"],
                    correct: 2,
                    feedback: "En fluidifiant le sang, le risque principal est le saignement excessif ou l'hémorragie."
                },
                {
                    question: "Sur quelle phase de l'hémostase les antiagrégants plaquettaires agissent-ils ?",
                    options: ["L'hémostase primaire", "La coagulation sanguine", "La fibrinolyse", "La formation des globules rouges"],
                    correct: 0,
                    feedback: "Les AAP empêchent les plaquettes de s'agréger, ce qui est le mécanisme central de l'hémostase primaire."
                },
                {
                    question: "Quel est l'antidote des héparines (HNF et dans une moindre mesure HBPM) ?",
                    options: ["Vitamine K", "Sulfate de protamine", "Facteur Xa recombinant", "Il n'y en a pas"],
                    correct: 1,
                    feedback: "Le sulfate de protamine neutralise l'effet de l'héparine. La vitamine K est l'antidote des AVK."
                },
                {
                    question: "Quelle est la cible thérapeutique de l'INR pour la plupart des patients sous AVK ?",
                    options: ["Moins de 1", "Entre 1 et 1.5", "Entre 2 et 3", "Supérieur à 4"],
                    correct: 2,
                    feedback: "Un INR entre 2 et 3 est généralement la cible pour assurer une anticoagulation efficace sans risque hémorragique excessif."
                },
                {
                    question: "Quelle surveillance biologique est recommandée pour un traitement par HBPM à dose curative ?",
                    options: ["INR", "TCA", "Activité anti-Xa", "Numération plaquettaire seule"],
                    correct: 2,
                    feedback: "L'activité anti-Xa mesure spécifiquement l'effet des HBPM, bien qu'elle ne soit pas réalisée systématiquement."
                },
                {
                    question: "Quel est le délai d'action approximatif des AVK ?",
                    options: ["Immédiat", "6 heures", "24 heures", "72 heures"],
                    correct: 3,
                    feedback: "Les AVK agissent en plusieurs jours, le temps que les facteurs de coagulation vitamine K-dépendants soient éliminés."
                },
                 {
                    question: "Par quel examen biologique la surveillance des HNF est-elle effectuée ?",
                    options: ["INR", "TP", "TCA", "Activité anti-Xa"],
                    correct: 2,
                    feedback: "Le Temps de Céphaline Activée (TCA) est l'examen de référence pour surveiller un traitement par HNF."
                },
                {
                    question: "Quel est le conseil alimentaire primordial pour un patient sous AVK ?",
                    options: ["Éviter totalement le sel", "Supprimer les sucres", "Maintenir des apports stables en vitamine K", "Boire beaucoup d'eau"],
                    correct: 2,
                    feedback: "Des variations importantes d'apports en vitamine K (choux, épinards...) peuvent déséquilibrer l'INR."
                },
                {
                    question: "Parmi les aliments suivants, lequel peut diminuer l'efficacité des AVK si consommé en grande quantité ?",
                    options: ["Les produits laitiers", "Les agrumes", "Les pommes de terre", "Les choux"],
                    correct: 3,
                    feedback: "Les choux sont très riches en vitamine K, qui s'oppose à l'action des AVK."
                },
                {
                    question: "Quel est l'avantage principal des AOD par rapport aux AVK ?",
                    options: ["Leur coût moins élevé", "Leur efficacité supérieure", "L'absence de surveillance biologique de routine", "Leur longue demi-vie"],
                    correct: 2,
                    feedback: "Les AOD ne nécessitent pas de contrôles sanguins réguliers comme l'INR pour les AVK, ce qui simplifie grandement le traitement."
                },
                {
                    question: "Quel est l'antidote de la Warfarine (Coumadine®) ?",
                    options: ["Vitamine K", "Paracétamol", "Aspirine", "Ibuprofène"],
                    correct: 0,
                    feedback: "La Warfarine est un AVK, son antidote est donc la Vitamine K."
                },
                {
                    question: "Le taux normal de prothrombine (TP) pour un patient SANS traitement anticoagulant est de :",
                    options: ["75%", "100%", "125%", "50%"],
                    correct: 1,
                    feedback: "Un TP normal est de 100%. Il diminue chez les patients sous AVK."
                },
                {
                    question: "Le taux de prothrombine (TP) cible pour un patient SOUS Warfarine est d'environ :",
                    options: ["75%", "100%", "125%", "35%"],
                    correct: 3,
                    feedback: "Pour être efficace, le traitement AVK vise une diminution du TP, généralement autour de 35% (ce qui correspond à un INR cible)."
                },
                {
                    question: "Lequel de ces médicaments est un Antiagrégant Plaquetaire (AAP) ?",
                    options: ["Xarelto®", "Lovenox®", "Plavix®", "Coumadine®"],
                    correct: 2,
                    feedback: "Plavix® (Clopidogrel) est un AAP. Les autres sont des anticoagulants (AOD, HBPM, AVK)."
                },
                {
                    question: "Quel est le risque spécifique, bien que rare, associé aux héparines (HNF et HBPM) ?",
                    options: ["Insuffisance rénale", "Thrombopénie Induite par l'Héparine (TIH)", "Réaction allergique cutanée", "Augmentation de la tension"],
                    correct: 1,
                    feedback: "La TIH est une complication grave mais rare où le corps réagit à l'héparine en détruisant les plaquettes."
                },
                {
                    question: "Quel est le mécanisme d'action du Dabigatran (Pradaxa®) ?",
                    options: ["Inhibiteur de la vitamine K", "Inhibiteur direct de la thrombine", "Inhibiteur du facteur Xa", "Inhibiteur de l'agrégation plaquettaire"],
                    correct: 1,
                    feedback: "Le Dabigatran est un AOD qui inhibe directement la thrombine (facteur IIa)."
                },
                {
                    question: "Quelle est la dernière étape du processus d'hémostase, qui dissout le caillot ?",
                    options: ["Vasoconstriction", "Coagulation", "Hémostase primaire", "Fibrinolyse"],
                    correct: 3,
                    feedback: "La fibrinolyse est le processus naturel de dissolution des caillots de fibrine une fois la cicatrisation terminée."
                },
                {
                    question: "Quel type de médicament est formellement déconseillé en automédication avec les AVK ?",
                    options: ["Paracétamol", "AINS (Anti-inflammatoires)", "Spasfon", "Vitamine C"],
                    correct: 1,
                    feedback: "Les AINS augmentent considérablement le risque hémorragique lorsqu'ils sont associés aux AVK."
                }
            ];

            function showAnticoSubPage(pageId) {
                document.querySelectorAll('.antico-page').forEach(page => page.classList.add('hidden'));
                const activePage = document.getElementById(pageId); 
                if (activePage) activePage.classList.remove('hidden');
                
                const gradients = {
                    hemostase: ['from-green-500', 'to-emerald-600'],
                    aap: ['from-purple-500', 'to-indigo-600'], hnf: ['from-sky-400', 'to-cyan-500'],
                    hbpm: ['from-blue-600', 'to-indigo-700'], aod: ['from-amber-500', 'to-yellow-500'],
                    avk: ['from-red-500', 'to-orange-500'], 'quiz-antico': ['from-slate-500', 'to-gray-700'],
                    'synthese-antico': ['from-gray-400', 'to-gray-600'],
                };

                document.querySelectorAll('.antico-nav-btn').forEach(btn => {
                    const btnPageId = btn.dataset.page;
                    Object.values(gradients).flat().forEach(gClass => btn.classList.remove(gClass));
                    btn.classList.remove('bg-gradient-to-r', 'text-white', 'shadow-md');
                    btn.classList.add('text-slate-800');
                    if (btnPageId === pageId) {
                        btn.classList.remove('text-slate-800');
                        btn.classList.add('bg-gradient-to-r', 'text-white', 'shadow-md', ...gradients[pageId]);
                    }
                });
            }

            function createHeparineCharts() {
                const chartData = {
                    labels: [['Usage ambulatoire', 'facile'], ['Action', 'rapide'], ['Demi-vie', 'courte'], ['Surveillance', 'stricte'], ['Réversibilité', 'complète']],
                    datasets: [{
                        label: 'HNF', data: [2, 5, 5, 5, 5], fill: true, backgroundColor: 'rgba(59, 130, 246, 0.2)',
                        borderColor: 'rgb(59, 130, 246)', pointBackgroundColor: 'rgb(59, 130, 246)', pointBorderColor: '#fff',
                    }, {
                        label: 'HBPM', data: [5, 4, 2, 1, 3], fill: true, backgroundColor: 'rgba(30, 58, 138, 0.2)',
                        borderColor: 'rgb(30, 58, 138)', pointBackgroundColor: 'rgb(30, 58, 138)', pointBorderColor: '#fff',
                    }]
                };
                const chartOptions = { scales: { r: { suggestedMin: 0, suggestedMax: 5, ticks: { stepSize: 1 }, pointLabels: { font: { size: 10 } } } }, plugins: { legend: { position: 'top' } } };
                ['heparineChartHNF', 'heparineChartHBPM'].forEach(id => {
                    const canvas = document.getElementById(id);
                    if(canvas && !canvas.chart) {
                         canvas.chart = new Chart(canvas.getContext('2d'), { type: 'radar', data: chartData, options: chartOptions });
                    }
                });
            }
            
            function createOralAnticoagCharts() {
                const chartData = {
                    labels: [["Délai d'action"], ['Surveillance', 'biologique'], ['Interactions', 'alimentaires'], ['Durée du', 'relai']],
                    datasets: [{
                        label: 'AVK', data: [1, 1, 1, 1], fill: true, backgroundColor: 'rgba(239, 68, 68, 0.2)',
                        borderColor: 'rgb(239, 68, 68)', pointBackgroundColor: 'rgb(239, 68, 68)', pointBorderColor: '#fff',
                    }, {
                        label: 'AOD', data: [5, 5, 4, 5], fill: true, backgroundColor: 'rgba(251, 191, 36, 0.2)',
                        borderColor: 'rgb(251, 191, 36)', pointBackgroundColor: 'rgb(251, 191, 36)', pointBorderColor: '#fff',
                    }]
                };
                const chartOptions = { scales: { r: { suggestedMin: 0, suggestedMax: 5, ticks: { stepSize: 1 }, pointLabels: { font: { size: 10 } } } }, plugins: { legend: { position: 'top' } } };
                ['oralAnticoagChartAVK', 'oralAnticoagChartAOD'].forEach(id => {
                     const canvas = document.getElementById(id);
                     if(canvas && !canvas.chart) {
                        canvas.chart = new Chart(canvas.getContext('2d'), { type: 'radar', data: chartData, options: chartOptions });
                     }
                });
            }

            function renderAnticoQuiz() {
                const container = document.getElementById('qcm-container-antico');
                if (!container) return;
                container.innerHTML = '';
                anticoQuizData.forEach((item, index) => {
                    const optionsHtml = item.options.map((option, optionIndex) => 
                        `<button class="qcm-option w-full text-left p-4 rounded-xl bg-white border-2 border-slate-200 hover:bg-slate-100 hover:border-slate-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-200" data-index="${optionIndex}">${option}</button>`
                    ).join('');

                    container.innerHTML += `<div class="qcm-question bg-slate-100/70 border border-slate-200/80 p-6 rounded-2xl shadow-lg" data-question-index="${index}"><p class="font-semibold text-lg text-slate-800 mb-4">${index + 1}. ${item.question}</p><div class="grid grid-cols-1 sm:grid-cols-2 gap-3">${optionsHtml}</div><div class="qcm-feedback mt-4 text-sm font-medium"></div></div>`;
                });
                document.getElementById('quiz-score-antico').textContent = `Prêt ? 0 / ${anticoQuizData.length}`;
                document.getElementById('reset-button-antico').classList.add('opacity-0', 'pointer-events-none');
            }

            function setupAnticoQuizListeners() {
                const container = document.getElementById('qcm-container-antico');
                if (!container) return;
                container.addEventListener('click', (event) => {
                    if (!event.target.classList.contains('qcm-option')) return;
                    
                    const optionButton = event.target;
                    const questionEl = optionButton.closest('.qcm-question');
                    if (!questionEl || questionEl.classList.contains('answered')) return;
                    
                    questionEl.classList.add('answered');
                    const questionIndex = parseInt(questionEl.dataset.questionIndex, 10);
                    const questionData = anticoQuizData[questionIndex];
                    const selectedIndex = parseInt(optionButton.dataset.index, 10);
                    const isCorrect = selectedIndex === questionData.correct;
                    const feedbackEl = questionEl.querySelector('.qcm-feedback');

                    if (isCorrect) {
                        optionButton.classList.add('correct');
                        feedbackEl.innerHTML = `<p class="text-emerald-600">🎉 Bravo ! ${questionData.feedback || ''}</p>`;
                    } else {
                        optionButton.classList.add('incorrect');
                        const correctButton = questionEl.querySelector(`[data-index="${questionData.correct}"]`);
                        correctButton.classList.add('correct');
                        feedbackEl.innerHTML = `<p class="text-red-600">Dommage. ${questionData.feedback || ''}</p>`;
                    }
                    
                    questionEl.querySelectorAll('.qcm-option').forEach(btn => btn.disabled = true);
                    updateAnticoScore();
                });
            }

            function updateAnticoScore() {
                const totalQuestions = anticoQuizData.length;
                let score = 0;
                document.querySelectorAll('#qcm-container-antico .qcm-question.answered').forEach(q => {
                    const selectedCorrect = q.querySelector('.qcm-option.correct:disabled:not(.incorrect)');
                    if (selectedCorrect) {
                        score++;
                    }
                });
                const answeredCount = document.querySelectorAll('#qcm-container-antico .qcm-question.answered').length;
                const scoreEl = document.getElementById('quiz-score-antico');
                scoreEl.textContent = `Votre score : ${score} / ${answeredCount}`;
                if (answeredCount === totalQuestions) {
                    scoreEl.textContent = `Score final : ${score} / ${totalQuestions}`;
                    const percentage = (score / totalQuestions) * 100;
                    if (percentage >= 75) { scoreEl.textContent += " - Excellent travail ! 🎉"; } 
                    else if (percentage >= 50) { scoreEl.textContent += " - Pas mal, continuez à réviser ! 💪"; } 
                    else { scoreEl.textContent += " - Encore un effort ! 📚"; }
                    document.getElementById('reset-button-antico').classList.remove('opacity-0', 'pointer-events-none');
                }
            }
            
            function resetAnticoQuiz() { renderAnticoQuiz(); }

            function initializeAnticoModule() {
                anticoModuleInitialized = true;
                lucide.createIcons();
                showAnticoSubPage('hemostase');
                createHeparineCharts();
                createOralAnticoagCharts();
                renderAnticoQuiz();
                setupAnticoQuizListeners();
                
                document.querySelectorAll('.antico-nav-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        e.preventDefault();
                        showAnticoSubPage(btn.dataset.page);
                    });
                });
                document.getElementById('reset-button-antico').addEventListener('click', resetAnticoQuiz);
            }

        });
    </script>
</body>
</html>

